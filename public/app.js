(self.webpackChunk=self.webpackChunk||[]).push([[260],{1541:(t,e,r)=>{"use strict";var n=r(538),a=r(3905),i=r(2783),o=r(381),s=r.n(o);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const m={computed:{FiscalRegistrar:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return FiscalRegistrar})),$echo:function(){return Echo.channel("fiscal-registrar")},agentTypeOptions:function(){return[{value:null,text:"нет"}].concat(u(this.buildOptions(this.dictionary.agentTypes)))},taxSystemOptions:function(){return[{value:null,text:"не выбрано"}].concat(u(this.buildOptions(this.dictionary.taxSystems)))}},methods:{formatTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY HH:mm:ss";return s()(t).format(e)},buildOptions:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==(e=r)&&void 0!==e||(r=function(t){var e=c(t,2);return{value:e[0],text:e[1]}}),Object.entries(t).map(r)},extractVat:function(t,e){return parseFloat((t-t/(1+this.dictionary.vatRates[e])).toFixed(2))},emptify:function(t){if(!t||"object"!==l(t))return t;for(var e in t)t[e]=this.emptify(t[e]),t[e]||(t[e]=null);return Object.values(t).every((function(t){return null===t}))&&(t=null),t},enumConnections:function(){var t=this;this.$http.get(FiscalRegistrar.basePath+"/api/v1/connection").then((function(e){t.connections=e.data}))},resetFilter:function(){this.query.filter={id:null,external_id:null,internal_id:null,created_from:null,created_to:null,connection:null,operation:null,min_total:null,max_total:null,state:null,email:null,phone:null,fn:null,i:null,fd:null}}},beforeMount:function(){this.resetFilter(),this.query=merge.all([this.query,JSON.parse(sessionStorage["fiscal-registrar.query"]||"{}"),qs.parse(window.location.search.replace(/^\?/,""))])},watch:{query:{handler:function(t){sessionStorage["fiscal-registrar.query"]=JSON.stringify(t)},deep:!0}},data:function(){return{query:{hideFilter:!1,hideCreateButton:!1,filter:{},sort:{by:"id",desc:!1}},connections:{},dictionary:{operations:{sell:"приход",sell_refund:"возврат прихода",buy:"расход",buy_refund:"возврат расхода"},states:["не зарегистрирован","зарегистрирован","проведен"],agentTypes:{bank_paying_agent:"банковский платежный агент",bank_paying_subagent:"банковский платежный субагент",paying_agent:"платежный агент",paying_subagent:"платежный субагент",attorney:"поверенный",commission_agent:"комиссионер",another:"агент"},taxSystems:{osn:"общая система налогообложения",usn_income:"упрощенная система налогообложения (доходы)",usn_income_outcome:"упрощенная система налогообложения (доходы минус расходы)",envd:"единый налог на вмененный доход",esn:"единый сельскохозяйственный налог",patent:"патентная система налогообложения"},paymentMethods:{full_prepayment:"предоплата 100%",prepayment:"предоплата",advance:"аванс",full_payment:"полный расчет",partial_payment:"частичный расчет и кредит",credit:"передача в кредит",credit_payment:"оплата кредита"},paymentObjects:{commodity:"товар",excise:"подакцизный товар",job:"работа",service:"услуга",gambling_bet:"ставка азартной игры",gambling_prize:"выигрыш азартной игры",lottery:"лотерейный билет",lottery_prize:"выигрыш лотереи",intellectual_activity:"предоставление результатов интеллектуальной деятельности",payment:"платеж",agent_commission:"агентское вознаграждение",award:"взнос/штраф/вознаграждение/бонус",composite:"составной предмет расчета",another:"иной предмет расчета",property_right:"имущественное право","non-operating_gain":"внереализационный доход",insurance_premium:"страховые взносы",sales_tax:"торговый сбор",resort_fee:"курортный сбор",deposit:"залог",expense:"расход",pension_insurance_ip:"взносы на ОПС ИП",pension_insurance:"взносы на ОПС",medical_insurance_ip:"взносы на ОМС ИП",medical_insurance:"взносы на ОМС",social_insurance:"взносы на ОСС",casino_payment:"платеж казино"},vatTypes:{none:"нет",vat0:"0%",vat10:"10%",vat18:"18%",vat20:"20%",vat110:"10/110",vat118:"18/118",vat120:"20/120"},vatRates:{none:0,vat0:0,vat10:.1,vat18:.18,vat20:.2,vat110:10/110,vat118:18/118,vat120:20/120}}}}};var f=r(9578);const b=[{path:"/",redirect:"/receipts"},{path:"/receipts",name:"receipts",component:r(3643).Z},{path:"/receipt/new",name:"new-receipt",component:r(4427).Z},{path:"/receipt/from/:id",name:"new-receipt-from-existing",component:r(4427).Z},{path:"/receipt/:id",name:"receipt",component:r(4427).Z}];var y=r(8345),v=(r(3734),document.head.querySelector('meta[name="csrf-token"]'));v&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=v.content),n.default.use(a.ZPm),n.default.use(i),n.default.use(y.ZP),n.default.prototype.$http=window.axios.create(),f.H.$http=window.axios,window.qs=r(129),window.merge=r(9996),window.FiscalRegistrar.basePath="/"+window.FiscalRegistrar.path;var h=window.FiscalRegistrar.basePath+"/";""!==window.FiscalRegistrar.path&&"/"!==window.FiscalRegistrar.path||(h="/",window.FiscalRegistrar.basePath="");var g=new y.ZP({routes:b,mode:"history",base:h,parseQuery:function(t){return window.qs.parse(t)},stringifyQuery:function(t){var e=window.qs.stringify(t,{encode:!1});return e?"?"+e:""}});n.default.component("pagination",r(1606)),n.default.mixin(m),new n.default({el:"#fiscal-registrar",router:g})},4420:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),s=new q(n||[]);return i(o,"_invoke",{value:k(t,r,s)}),o}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var m={};function f(){}function b(){}function y(){}var v={};u(v,s,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(S([])));g&&g!==e&&r.call(g,s)&&(v=g);var _=y.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function a(i,o,s,l){var c=d(t[i],t,o);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){a("next",t,s,l)}),(function(t){a("throw",t,s,l)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return a("throw",t,s,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return o=o?o.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return E()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function P(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return b.prototype=y,i(_,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(w.prototype),u(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new w(p(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(_),u(_,c,"Generator"),u(_,s,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},t}function i(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){i(o,n,a,s,l,"next",t)}function l(t){i(o,n,a,s,l,"throw",t)}s(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}r.d(e,{Z:()=>m});var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(m,t);var e,r,n,i,p,d=u(m);function m(){return s(this,m),d.apply(this,arguments)}return e=m,r=[{key:"baseURL",value:function(){return FiscalRegistrar.basePath+"/api/v1"}},{key:"request",value:function(t){return this.$http.request(t)}},{key:"resource",value:function(){return"receipts"}},{key:"register",value:(p=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request({method:"POST",url:this.endpoint()+"/register"});case 2:return t.sent,this.state=1,t.abrupt("return",this);case 5:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"sync",value:(i=o(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request({method:"GET",url:this.endpoint()+"/report"});case 2:return e=t.sent,this.result=e.data,this.state=2,t.abrupt("return",this);case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],r&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),m}(r(9578).H)},9133:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(1519),a=r.n(n)()((function(t){return t[1]}));a.push([t.id,"fieldset[data-v-6b0512c6]{margin:0}",""]);const i=a},6609:()=>{},4427:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(4420);const a={props:["item","disabled"],computed:{id:function(){return this.$vnode.key+1},model:function(){return this.$deepModel(this.item)},vatSum:function(){return String(this.extractVat(this.item.sum,this.item.vat.type))},agentType:{get:function(){var t;return null!==(t=this.model["agent_info.type"])&&void 0!==t?t:null},set:function(t){this.model["agent_info.type"]=t}},payingAgentPhones:{get:function(){var t;return null===(t=this.model["agent_info.paying_agent.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["agent_info.paying_agent.phones"]=t.length?t:null}},receivePaymentsOperatorPhones:{get:function(){var t;return null===(t=this.model["agent_info.receive_payments_operator.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["agent_info.receive_payments_operator.phones"]=t.length?t:null}},moneyTransferOperatorPhones:{get:function(){var t;return null===(t=this.model["agent_info.money_transfer_operator.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["agent_info.money_transfer_operator.phones"]=t.length?t:null}},supplierPhones:{get:function(){var t;return null===(t=this.model["supplier_info.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["supplier_info.phones"]=t.length?t:null}}},watch:{"item.price":function(t){this.item.sum=t*this.item.quantity},"item.quantity":function(t){this.item.sum=this.item.price*t},"item.sum":function(t){this.item.vat.sum=this.extractVat(t,this.item.vat.type)},"item.vat.type":function(t){this.item.vat.sum=this.extractVat(this.item.sum,t)},"item.agent_info":{handler:function(t){this.item.agent_info=null===(null==t?void 0:t.type)?null:this.emptify(t)},deep:!0},"item.supplier_info":{handler:function(t){this.item.supplier_info=null===(null==t?void 0:t.type)?null:this.emptify(t)},deep:!0}}};var i=r(1900);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,a){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),s=new q(a||[]);return n(o,"_invoke",{value:k(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var m={};function f(){}function b(){}function y(){}var v={};c(v,i,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(S([])));g&&g!==e&&r.call(g,i)&&(v=g);var _=y.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function a(n,i,s,l){var c=p(t[n],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,s,l)}),(function(t){a("throw",t,s,l)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return a("throw",t,s,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return E()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function P(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return b.prototype=y,n(_,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new w(u(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(_),c(_,l,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},t}function m(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){m(i,n,a,o,s,"next",t)}function s(t){m(i,n,a,o,s,"throw",t)}o(void 0)}))}}const b={components:{ReceiptItem:(0,i.Z)(a,(function(){var t=this,e=t._self._c;return e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"4",md:"6",sm:"12"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Наименование","label-for":"item"+t.id+"Name",description:"тег 1030"}},[e("b-form-input",{attrs:{id:"item"+t.id+"Name",type:"text",size:"sm",required:"",disabled:t.disabled},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Цена","label-for":"item"+t.id+"Price",description:"тег 1079"}},[e("b-form-input",{attrs:{id:"item"+t.id+"Price",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0",required:"",disabled:t.disabled},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",t._n(e))},expression:"item.price"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Кол-во","label-for":"item"+t.id+"Quantity",description:"тег 1023"}},[e("b-form-input",{attrs:{id:"item"+t.id+"Quantity",type:"number",min:".001",max:"99999.999",step:"any",size:"sm",placeholder:"1",required:"",disabled:t.disabled},model:{value:t.item.quantity,callback:function(e){t.$set(t.item,"quantity",t._n(e))},expression:"item.quantity"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Сумма","label-for":"item"+t.id+"Sum",description:"тег 1043"}},[e("b-form-input",{attrs:{id:"item"+t.id+"Sum",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0",required:"",disabled:t.disabled},model:{value:t.item.sum,callback:function(e){t.$set(t.item,"sum",t._n(e))},expression:"item.sum"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[e("b-form-group",{attrs:{label:"Ед. изм.","label-for":"item"+t.id+"MeasurementUnit",description:"тег 1197"}},[e("b-form-input",{attrs:{id:"item"+t.id+"MeasurementUnit",type:"text",size:"sm",placeholder:"шт.",maxlength:"16",disabled:t.disabled},model:{value:t.item.measurement_unit,callback:function(e){t.$set(t.item,"measurement_unit",e)},expression:"item.measurement_unit"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"2",sm:"4"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Способ расчета","label-for":"item"+t.id+"PaymentMethod",description:"тег 1214"}},[e("b-form-select",{attrs:{id:"item"+t.id+"PaymentMethod",size:"sm",options:t.buildOptions(t.dictionary.paymentMethods),disabled:t.disabled},model:{value:t.item.payment_method,callback:function(e){t.$set(t.item,"payment_method",e)},expression:"item.payment_method"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"2",sm:"4"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Предмет расчета","label-for":"item"+t.id+"PaymentObject",description:"тег 1212"}},[e("b-form-select",{attrs:{id:"item"+t.id+"PaymentObject",size:"sm",options:t.buildOptions(t.dictionary.paymentObjects),disabled:t.disabled},model:{value:t.item.payment_object,callback:function(e){t.$set(t.item,"payment_object",e)},expression:"item.payment_object"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[e("b-form-group",{staticClass:"required",attrs:{label:"НДС","label-for":"item"+t.id+"VatType",description:"тег 1199"}},[e("b-form-select",{attrs:{id:"item"+t.id+"VatType",size:"sm",options:t.buildOptions(t.dictionary.vatTypes),disabled:t.disabled},model:{value:t.item.vat.type,callback:function(e){t.$set(t.item.vat,"type",e)},expression:"item.vat.type"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма НДС","label-for":"item"+t.id+"VatSum",description:"тег 1200"}},[e("b-form-input",{attrs:{id:"item"+t.id+"VatSum",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatSum,disabled:t.disabled},model:{value:t.item.vat.sum,callback:function(e){t.$set(t.item.vat,"sum",t._n(e))},expression:"item.vat.sum"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Признак агента","label-for":"item"+t.id+"agentType",description:"тег 1222"}},[e("b-form-select",{attrs:{id:"item"+t.id+"agentType",size:"sm",options:t.agentTypeOptions,disabled:t.disabled},model:{value:t.agentType,callback:function(e){t.agentType=e},expression:"agentType"}})],1)],1),t._v(" "),e("b-col",{staticClass:"ml-auto mr-0",attrs:{"align-self":"end",lg:"1",md:"1",sm:"1"}},[e("b-form-group",{staticClass:"text-right"},[e("b-button",{attrs:{variant:"danger",size:"sm",title:"Удалить",disabled:t.disabled},on:{click:function(e){return t.$emit("remove")}}},[e("b",[t._v("×")])])],1)],1)],1),t._v(" "),null!==t.agentType?e("div",{staticClass:"accordion",attrs:{role:"tablist"}},[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+t.id+"-paying-agent",expression:"'receipt-item-' + id + '-paying-agent'"}],attrs:{block:""}},[t._v("Атрибуты платежного агента")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-item-"+t.id+"-paying-agent",accordion:"receipt-item-"+t.id+"-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Наименование операции","label-for":"item"+t.id+"payingAgentOperation",description:"тег 1044"}},[e("b-form-input",{attrs:{id:"item"+t.id+"payingAgentOperation",type:"text",size:"sm",disabled:t.disabled},model:{value:t.model["agent_info.paying_agent.operation"],callback:function(e){t.$set(t.model,"agent_info.paying_agent.operation",e)},expression:"model['agent_info.paying_agent.operation']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Телефон(ы)","label-for":"item"+t.id+"payingAgentPhones",description:"тег 1073"}},[e("b-form-textarea",{attrs:{id:"item"+t.id+"payingAgentPhones",size:"sm","max-rows":"4",disabled:t.disabled},model:{value:t.payingAgentPhones,callback:function(e){t.payingAgentPhones=e},expression:"payingAgentPhones"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+t.id+"-receive-payments-operator",expression:"'receipt-item-' + id + '-receive-payments-operator'"}],attrs:{block:""}},[t._v("Атрибуты оператора по приему платежей")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-item-"+t.id+"-receive-payments-operator",accordion:"receipt-item-"+t.id+"-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Телефон(ы)","label-for":"item"+t.id+"receivePaymentsOperatorPhones",description:"тег 1074"}},[e("b-form-textarea",{attrs:{id:"item"+t.id+"receivePaymentsOperatorPhones",size:"sm","max-rows":"4",disabled:t.disabled},model:{value:t.receivePaymentsOperatorPhones,callback:function(e){t.receivePaymentsOperatorPhones=e},expression:"receivePaymentsOperatorPhones"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+t.id+"-money-transfer-operator",expression:"'receipt-item-' + id + '-money-transfer-operator'"}],attrs:{block:""}},[t._v("Атрибуты оператора перевода")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-item-"+t.id+"-money-transfer-operator",accordion:"receipt-item-"+t.id+"-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Телефон(ы)","label-for":"item"+t.id+"moneyTransferOperatorPhones",description:"тег 1075"}},[e("b-form-textarea",{attrs:{id:"item"+t.id+"moneyTransferOperatorPhones",size:"sm","max-rows":"4",disabled:t.disabled},model:{value:t.moneyTransferOperatorPhones,callback:function(e){t.moneyTransferOperatorPhones=e},expression:"moneyTransferOperatorPhones"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Наименование","label-for":"item"+t.id+"moneyTransferOperatorName",description:"тег 1026"}},[e("b-form-input",{attrs:{id:"item"+t.id+"moneyTransferOperatorName",type:"text",size:"sm",disabled:t.disabled},model:{value:t.model["agent_info.money_transfer_operator.name"],callback:function(e){t.$set(t.model,"agent_info.money_transfer_operator.name",e)},expression:"model['agent_info.money_transfer_operator.name']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Адрес","label-for":"item"+t.id+"moneyTransferOperatorAddress",description:"тег 1005"}},[e("b-form-input",{attrs:{id:"item"+t.id+"moneyTransferOperatorAddress",type:"text",size:"sm",disabled:t.disabled},model:{value:t.model["agent_info.money_transfer_operator.address"],callback:function(e){t.$set(t.model,"agent_info.money_transfer_operator.address",e)},expression:"model['agent_info.money_transfer_operator.address']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"ИНН","label-for":"item"+t.id+"moneyTransferOperatorInn",description:"тег 1016"}},[e("b-form-input",{attrs:{id:"item"+t.id+"moneyTransferOperatorInn",type:"text",size:"sm",pattern:"\\d{10}|\\d{12}",maxlength:"12",disabled:t.disabled},model:{value:t.model["agent_info.money_transfer_operator.inn"],callback:function(e){t.$set(t.model,"agent_info.money_transfer_operator.inn",e)},expression:"model['agent_info.money_transfer_operator.inn']"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+t.id+"-supplier",expression:"'receipt-item-' + id + '-supplier'"}],attrs:{block:""}},[t._v("Атрибуты поставщика")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-item-"+t.id+"-supplier",accordion:"receipt-item-"+t.id+"-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Телефон(ы)","label-for":"item"+t.id+"supplierPhones",description:"тег 1171"}},[e("b-form-textarea",{attrs:{id:"item"+t.id+"supplierPhones",size:"sm","max-rows":"4",required:"",disabled:t.disabled},model:{value:t.supplierPhones,callback:function(e){t.supplierPhones=e},expression:"supplierPhones"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Наименование","label-for":"item"+t.id+"supplierName",description:"тег 1225"}},[e("b-form-input",{attrs:{id:"item"+t.id+"supplierName",type:"text",size:"sm",disabled:t.disabled},model:{value:t.model["supplier_info.name"],callback:function(e){t.$set(t.model,"supplier_info.name",e)},expression:"model['supplier_info.name']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"ИНН","label-for":"item"+t.id+"supplierInn",description:"тег 1226"}},[e("b-form-input",{attrs:{id:"item"+t.id+"supplierInn",type:"text",size:"sm",pattern:"\\d{10}|\\d{12}",maxlength:"12",disabled:t.disabled},model:{value:t.model["supplier_info.inn"],callback:function(e){t.$set(t.model,"supplier_info.inn",e)},expression:"model['supplier_info.inn']"}})],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null).exports},data:function(){return{ready:!1,showPreview:!1,receipt:new n.Z,vats:{without_vat:null,with_vat0:null,vat10:null,vat20:null,vat110:null,vat120:null},agentInfo:{type:null,paying_agent:{operation:null,phones:null},receive_payments_operator:{phones:null},money_transfer_operator:{phones:null,name:null,address:null,inn:null}}}},mounted:function(){this.handleRoute(this.$route),this.enumConnections(),this.listenEvents()},methods:{handleRoute:function(t){var e=arguments,r=this;return f(d().mark((function n(){var a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=e.length>1&&void 0!==e[1]?e[1]:null,n.t0=t.name,n.next="receipt"===n.t0?4:"new-receipt"===n.t0?7:"new-receipt-from-existing"===n.t0?9:15;break;case 4:return n.next=6,r.loadReceipt(t.params.id);case 6:return n.abrupt("break",15);case 7:return r.resetReceipt(),n.abrupt("break",15);case 9:if(null===a||"receipt"!==a.name||+t.params.id!=+a.params.id){n.next=13;break}r.shrinkReceipt(),n.next=15;break;case 13:return n.next=15,r.loadReceipt(t.params.id,!0);case 15:case"end":return n.stop()}}),n)})))()},listenEvents:function(){var t=this;this.$echo.listen(".receipt.processed",(function(e){e.id===t.receipt.id&&(t.receipt=e)}))},resetReceipt:function(){this.receipt=new n.Z({id:null,state:0,connection:null,operation:null,external_id:null,internal_id:null,payload:{client:{email:null,phone:null,name:null,inn:null},company:{name:null,email:null,inn:null,payment_address:null,payment_site:null,tax_system:null},agent_info:null,supplier_info:null,items:[],payments:{cash:0,electronic:0,prepaid:0,postpaid:0,other:0},vats:null,total:0,additional_check_props:null,cashier:null,additional_user_props:null},result:null}),this.ready=!0},shrinkReceipt:function(){this.receipt.id=null,this.receipt.state=0,this.receipt.external_id=null,this.receipt.internal_id=null,this.receipt.result=null},loadReceipt:function(t){var e=arguments,r=this;return f(d().mark((function a(){var i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.length>1&&void 0!==e[1]&&e[1],r.ready=!1,a.next=4,n.Z.find(t);case 4:r.receipt=a.sent,i&&r.shrinkReceipt(),r.ready=!0;case 7:case"end":return a.stop()}}),a)})))()},saveReceipt:function(){var t=this;return f(d().mark((function e(){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!t.receipt.id,e.next=4,t.receipt.save();case 4:t.receipt=e.sent,r&&t.$router.replace({name:"receipt",params:{id:t.receipt.id}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object.values(e.t0.response.data.errors).forEach((function(e){return t.$bvToast.toast(e.map((function(e){return t.$createElement("div",e)})),{toaster:"b-toaster-bottom-right",variant:"danger",solid:!0,noCloseButton:!0})}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},registerReceipt:function(){var t=this;return f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.saveReceipt();case 2:return e.next=4,t.receipt.register();case 4:t.receipt=e.sent;case 5:case"end":return e.stop()}}),e)})))()},syncReceipt:function(){var t=this;return f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.receipt.sync();case 2:case"end":return e.stop()}}),e)})))()},deleteReceipt:function(){var t=this;return f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Удалить чек?")){e.next=4;break}return e.next=3,t.receipt.delete();case 3:t.$router.replace({name:"receipts"});case 4:case"end":return e.stop()}}),e)})))()},addItem:function(){this.receipt.payload.items.push({agent_info:null,country_code:null,declaration_number:null,excise:null,measurement_unit:null,name:"",nomenclature_code:null,payment_method:"full_prepayment",payment_object:"commodity",price:null,quantity:1,sum:null,supplier_info:null,user_data:null,vat:{sum:null,type:"vat20"}})},removeItem:function(t){this.receipt.payload.items.splice(t,1)},getVats:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={without_vat:0,with_vat0:0,vat10:0,vat20:0,vat110:0,vat120:0};if(e){var n,a=c(this.receipt.payload.items);try{for(a.s();!(n=a.n()).done;){var i=n.value;switch(null!==(t=null==i?void 0:i.vat.type)&&void 0!==t?t:"none"){case"vat20":case"vat18":r.vat20+=this.extractVat(i.sum,i.vat.type);break;case"vat10":r.vat10+=this.extractVat(i.sum,i.vat.type);break;case"vat0":r.with_vat0+=i.sum;break;case"none":r.without_vat+=i.sum;break;case"vat120":case"vat118":r.vat120+=this.extractVat(i.sum,i.vat.type);break;case"vat110":r.vat110+=this.extractVat(i.sum,i.vat.type)}}}catch(t){a.e(t)}finally{a.f()}}return r},fitContent:function(t){t.target.style.height=t.target.contentDocument.body.scrollHeight+20+"px"},printReceipt:function(){var t=window.open(window.FiscalRegistrar.basePath+"/api/v1/receipts/"+this.receipt.id+"/preview","ReceiptPreview","popup,width=500,height=1000");t.onafterprint=t.close,t.onload=function(){t.setTimeout(t.print)}}},computed:{title:function(){return(this.receipt.id?0===this.receipt.state?"Редактирование":"Просмотр":"Создание")+" кассового чека"},model:function(){return this.$deepModel(this.receipt.payload)},selectConnections:function(){return[{value:null,text:"автоопределение"}].concat(l(this.buildOptions(this.connections,(function(t){var e=s(t,2);return{value:e[0],text:e[1].display_name}}))))},isClientEmailRequired:function(){return!this.receipt.payload.client.phone},isClientPhoneRequired:function(){return!this.receipt.payload.client.email},companyEmailPlaceholder:function(){var t,e,r;return null!==(t=null===(e=this.connections[this.receipt.connection])||void 0===e||null===(r=e.company)||void 0===r?void 0:r.email)&&void 0!==t?t:"contact@myshop.com"},companyNamePlaceholder:function(){var t,e,r;return null!==(t=null===(e=this.connections[this.receipt.connection])||void 0===e||null===(r=e.company)||void 0===r?void 0:r.name)&&void 0!==t?t:'ООО "Рога и Копыта"'},companyInnPlaceholder:function(){var t,e,r;return null!==(t=null===(e=this.connections[this.receipt.connection])||void 0===e||null===(r=e.company)||void 0===r?void 0:r.inn)&&void 0!==t?t:"1234567890"},companyPaymentSitePlaceholder:function(){var t,e,r;return null!==(t=null===(e=this.connections[this.receipt.connection])||void 0===e||null===(r=e.company)||void 0===r?void 0:r.payment_site)&&void 0!==t?t:"https://www.myshop.com"},companyPaymentAddressPlaceholder:function(){var t,e,r;return null!==(t=null===(e=this.connections[this.receipt.connection])||void 0===e||null===(r=e.company)||void 0===r?void 0:r.payment_address)&&void 0!==t?t:""},vatsPlaceholder:function(){return Object.fromEntries(Object.entries(this.getVats(!this.receipt.payload.vats)).map((function(t){var e=s(t,2),r=e[0],n=e[1];return[r,String(n)]})))},vatsWithoutVat:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.vats)||void 0===e?void 0:e.without_vat)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).vats)&&void 0!==r||(e.vats=this.vats),this.receipt.payload.vats.without_vat=t||null}},vatsWithVat0:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.vats)||void 0===e?void 0:e.with_vat0)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).vats)&&void 0!==r||(e.vats=this.vats),this.receipt.payload.vats.with_vat0=t||null}},vatsVat10:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.vats)||void 0===e?void 0:e.vat10)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).vats)&&void 0!==r||(e.vats=this.vats),this.receipt.payload.vats.vat10=t||null}},vatsVat20:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.vats)||void 0===e?void 0:e.vat20)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).vats)&&void 0!==r||(e.vats=this.vats),this.receipt.payload.vats.vat20=t||null}},vatsVat110:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.vats)||void 0===e?void 0:e.vat110)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).vats)&&void 0!==r||(e.vats=this.vats),this.receipt.payload.vats.vat110=t||null}},vatsVat120:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.vats)||void 0===e?void 0:e.vat120)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).vats)&&void 0!==r||(e.vats=this.vats),this.receipt.payload.vats.vat120=t||null}},agentType:{get:function(){var t,e;return null!==(t=null===(e=this.receipt.payload.agent_info)||void 0===e?void 0:e.type)&&void 0!==t?t:null},set:function(t){var e,r;null!==(r=(e=this.receipt.payload).agent_info)&&void 0!==r||(e.agent_info=this.agentInfo),this.receipt.payload.agent_info.type=t||null}},payingAgentPhones:{get:function(){var t;return null===(t=this.model["agent_info.paying_agent.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["agent_info.paying_agent.phones"]=t.length?t:null}},receivePaymentsOperatorPhones:{get:function(){var t;return null===(t=this.model["agent_info.receive_payments_operator.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["agent_info.receive_payments_operator.phones"]=t.length?t:null}},moneyTransferOperatorPhones:{get:function(){var t;return null===(t=this.model["agent_info.money_transfer_operator.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["agent_info.money_transfer_operator.phones"]=t.length?t:null}},supplierPhones:{get:function(){var t;return null===(t=this.model["supplier_info.phones"])||void 0===t?void 0:t.join("\n")},set:function(t){t=t.split("\n").map((function(t){return t.trim()})).filter((function(t){return null!=t&&""!==t})),this.model["supplier_info.phones"]=t.length?t:null}},resultPayloadFnsSite:function(){return/^https?:\/\//i.test(this.receipt.result.payload.fns_site)?this.receipt.result.payload.fns_site:"https://"+this.receipt.result.payload.fns_site}},watch:{$route:function(t,e){this.handleRoute(t,e)},"receipt.payload.items":{handler:function(t){this.receipt.payload.total=t.reduce((function(t,e){return t+e.sum}),0)},deep:!0},"receipt.payload.vats":{handler:function(t){null!==t&&Object.values(t).every((function(t){return null===t}))&&(this.receipt.payload.vats=null)},deep:!0},"receipt.payload.agent_info":{handler:function(t){this.receipt.payload.agent_info=null===(null==t?void 0:t.type)?null:this.emptify(t)},deep:!0}}},y=b;var v=r(3379),h=r.n(v),g=r(9133),_={insert:"head",singleton:!1};h()(g.Z,_);g.Z.locals;const x=(0,i.Z)(y,(function(){var t=this,e=t._self._c;return e("div",[t.ready?e("h2",{staticClass:"text-center"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.ready?e("b-form",{attrs:{validated:""},on:{submit:function(e){return e.preventDefault(),t.saveReceipt.apply(null,arguments)}}},[e("div",{staticClass:"accordion",attrs:{role:"tablist"}},[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-attributes",modifiers:{"receipt-attributes":!0}}],attrs:{block:"",variant:"info"}},[t._v("Атрибуты документа")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-attributes",visible:"",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            TODO\n                        ")]),t._v(" "),e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Подключение","label-for":"receiptConnection"}},[e("b-form-select",{attrs:{id:"receiptConnection",size:"sm",options:t.selectConnections},model:{value:t.receipt.connection,callback:function(e){t.$set(t.receipt,"connection",e)},expression:"receipt.connection"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Операция","label-for":"receiptOperation"}},[e("b-form-select",{attrs:{id:"receiptOperation",size:"sm",required:"",options:t.buildOptions(t.dictionary.operations)},model:{value:t.receipt.operation,callback:function(e){t.$set(t.receipt,"operation",e)},expression:"receipt.operation"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Уникальный идентификатор","label-for":"receiptExternalId"}},[e("b-form-input",{attrs:{id:"receiptExternalId",type:"text",size:"sm"},model:{value:t.receipt.external_id,callback:function(e){t.$set(t.receipt,"external_id",e)},expression:"receipt.external_id"}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-client",modifiers:{"receipt-client":!0}}],attrs:{block:"",variant:"info"}},[t._v("Данные клиента")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-client",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            В запросе обязательно должно быть заполнено хотя бы одно из полей: "),e("code",[t._v("email")]),t._v(" или "),e("code",[t._v("phone")]),t._v("."),e("br"),t._v("\n                            Если заполнены оба поля, ОФД отправит электронный чек только на email.\n                        ")]),t._v(" "),e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{class:t.isClientEmailRequired&&"required",attrs:{label:"Электронный адрес","label-for":"clientEmail",description:"тег 1008"}},[e("b-form-input",{attrs:{id:"clientEmail",type:"email",size:"sm",placeholder:"user@domain.com",required:t.isClientEmailRequired},model:{value:t.receipt.payload.client.email,callback:function(e){t.$set(t.receipt.payload.client,"email",e)},expression:"receipt.payload.client.email"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{class:t.isClientPhoneRequired&&"required",attrs:{label:"Телефон","label-for":"clientPhone",description:"тег 1008"}},[e("b-form-input",{attrs:{id:"clientPhone",type:"tel",size:"sm",placeholder:"+79001234567",required:t.isClientPhoneRequired},model:{value:t.receipt.payload.client.phone,callback:function(e){t.$set(t.receipt.payload.client,"phone",e)},expression:"receipt.payload.client.phone"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Наименование","label-for":"clientName",description:"тег 1227"}},[e("b-form-input",{attrs:{id:"clientName",type:"text",size:"sm",placeholder:"Иван Иванович Иванов"},model:{value:t.receipt.payload.client.name,callback:function(e){t.$set(t.receipt.payload.client,"name",e)},expression:"receipt.payload.client.name"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"ИНН","label-for":"clientInn",description:"тег 1228"}},[e("b-form-input",{attrs:{id:"clientInn",type:"text",size:"sm",placeholder:"1234567890",pattern:"\\d{10}|\\d{12}",maxlength:"12"},model:{value:t.receipt.payload.client.inn,callback:function(e){t.$set(t.receipt.payload.client,"inn",e)},expression:"receipt.payload.client.inn"}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-company",modifiers:{"receipt-company":!0}}],attrs:{block:"",variant:"info"}},[t._v("Данные организации")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-company",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            Оставьте поля пустыми для автоматической подстановки параметров из конфигурации подключения при проводке чека.\n                        ")]),t._v(" "),e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Электронный адрес","label-for":"companyEmail",description:"тег 1117"}},[e("b-form-input",{attrs:{id:"companyEmail",type:"email",size:"sm",placeholder:t.companyEmailPlaceholder},model:{value:t.receipt.payload.company.email,callback:function(e){t.$set(t.receipt.payload.company,"email",e)},expression:"receipt.payload.company.email"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Наименование","label-for":"companyName",description:"тег 1048"}},[e("b-form-input",{attrs:{id:"companyName",type:"text",size:"sm",placeholder:t.companyNamePlaceholder},model:{value:t.receipt.payload.company.name,callback:function(e){t.$set(t.receipt.payload.company,"name",e)},expression:"receipt.payload.company.name"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"ИНН","label-for":"companyInn",description:"тег 1018"}},[e("b-form-input",{attrs:{id:"companyInn",type:"text",size:"sm",placeholder:t.companyInnPlaceholder,pattern:"\\d{10}|\\d{12}",maxlength:"12"},model:{value:t.receipt.payload.company.inn,callback:function(e){t.$set(t.receipt.payload.company,"inn",e)},expression:"receipt.payload.company.inn"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Система налогообложения","label-for":"taxSystem",description:"тег 1055"}},[e("b-form-select",{attrs:{id:"taxSystem",size:"sm",options:t.taxSystemOptions},model:{value:t.receipt.payload.company.tax_system,callback:function(e){t.$set(t.receipt.payload.company,"tax_system",e)},expression:"receipt.payload.company.tax_system"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Место расчетов","label-for":"companyPaymentSite",description:"тег 1187"}},[e("b-form-input",{attrs:{id:"companyPaymentSite",type:"text",size:"sm",placeholder:t.companyPaymentSitePlaceholder},model:{value:t.receipt.payload.company.payment_site,callback:function(e){t.$set(t.receipt.payload.company,"payment_site",e)},expression:"receipt.payload.company.payment_site"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Адрес расчетов","label-for":"companyPaymentAddress",description:"тег 1009"}},[e("b-form-input",{attrs:{id:"companyPaymentAddress",type:"text",size:"sm",placeholder:t.companyPaymentAddressPlaceholder},model:{value:t.receipt.payload.company.payment_address,callback:function(e){t.$set(t.receipt.payload.company,"payment_address",e)},expression:"receipt.payload.company.payment_address"}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-agent-supplier",modifiers:{"receipt-agent-supplier":!0}}],attrs:{block:"",variant:"info"}},[t._v("Данные агента и поставщика")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-agent-supplier",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            TODO\n                        ")]),t._v(" "),e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Признак агента","label-for":"agentType",description:"тег 1057"}},[e("b-form-select",{attrs:{id:"agentType",size:"sm",options:t.agentTypeOptions},model:{value:t.agentType,callback:function(e){t.agentType=e},expression:"agentType"}})],1)],1)],1)],1),t._v(" "),null!==t.agentType?e("div",{staticClass:"accordion",attrs:{role:"tablist"}},[e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-paying-agent",modifiers:{"receipt-paying-agent":!0}}],attrs:{block:""}},[t._v("Атрибуты платежного агента")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-paying-agent",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Наименование операции","label-for":"payingAgentOperation",description:"тег 1044"}},[e("b-form-input",{attrs:{id:"payingAgentOperation",type:"text",size:"sm"},model:{value:t.model["agent_info.paying_agent.operation"],callback:function(e){t.$set(t.model,"agent_info.paying_agent.operation",e)},expression:"model['agent_info.paying_agent.operation']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Телефон(ы)","label-for":"payingAgentPhones",description:"тег 1073"}},[e("b-form-textarea",{attrs:{id:"payingAgentPhones",size:"sm","max-rows":"4"},model:{value:t.payingAgentPhones,callback:function(e){t.payingAgentPhones=e},expression:"payingAgentPhones"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-receive-payments-operator",modifiers:{"receipt-receive-payments-operator":!0}}],attrs:{block:""}},[t._v("Атрибуты оператора по приему платежей")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-receive-payments-operator",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Телефон(ы)","label-for":"receivePaymentsOperatorPhones",description:"тег 1074"}},[e("b-form-textarea",{attrs:{id:"receivePaymentsOperatorPhones",size:"sm","max-rows":"4"},model:{value:t.receivePaymentsOperatorPhones,callback:function(e){t.receivePaymentsOperatorPhones=e},expression:"receivePaymentsOperatorPhones"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-money-transfer-operator",modifiers:{"receipt-money-transfer-operator":!0}}],attrs:{block:""}},[t._v("Атрибуты оператора перевода")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-money-transfer-operator",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Телефон(ы)","label-for":"moneyTransferOperatorPhones",description:"тег 1075"}},[e("b-form-textarea",{attrs:{id:"moneyTransferOperatorPhones",size:"sm","max-rows":"4"},model:{value:t.moneyTransferOperatorPhones,callback:function(e){t.moneyTransferOperatorPhones=e},expression:"moneyTransferOperatorPhones"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Наименование","label-for":"moneyTransferOperatorName",description:"тег 1026"}},[e("b-form-input",{attrs:{id:"moneyTransferOperatorName",type:"text",size:"sm"},model:{value:t.model["agent_info.money_transfer_operator.name"],callback:function(e){t.$set(t.model,"agent_info.money_transfer_operator.name",e)},expression:"model['agent_info.money_transfer_operator.name']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Адрес","label-for":"moneyTransferOperatorAddress",description:"тег 1005"}},[e("b-form-input",{attrs:{id:"moneyTransferOperatorAddress",type:"text",size:"sm"},model:{value:t.model["agent_info.money_transfer_operator.address"],callback:function(e){t.$set(t.model,"agent_info.money_transfer_operator.address",e)},expression:"model['agent_info.money_transfer_operator.address']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"ИНН","label-for":"moneyTransferOperatorInn",description:"тег 1016"}},[e("b-form-input",{attrs:{id:"moneyTransferOperatorInn",type:"text",size:"sm",pattern:"\\d{10}|\\d{12}",maxlength:"12"},model:{value:t.model["agent_info.money_transfer_operator.inn"],callback:function(e){t.$set(t.model,"agent_info.money_transfer_operator.inn",e)},expression:"model['agent_info.money_transfer_operator.inn']"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-supplier",modifiers:{"receipt-supplier":!0}}],attrs:{block:""}},[t._v("Атрибуты поставщика")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-supplier",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Телефон(ы)","label-for":"supplierPhones",description:"тег 1171"}},[e("b-form-textarea",{attrs:{id:"supplierPhones",size:"sm","max-rows":"4",required:""},model:{value:t.supplierPhones,callback:function(e){t.supplierPhones=e},expression:"supplierPhones"}})],1)],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-items",modifiers:{"receipt-items":!0}}],attrs:{block:"",variant:"info"}},[t._v("Позиции документа")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-items",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            В документе должна быть как минимум одна позиция.\n                        ")]),t._v(" "),t._l(t.receipt.payload.items,(function(r,n){return[e("receipt-item",{key:n,attrs:{item:r,disabled:0!==t.receipt.state},on:{remove:function(e){return t.removeItem(n)}}}),t._v(" "),e("hr")]})),t._v(" "),e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"3"}},[e("b-form-group",{staticClass:"required",attrs:{label:"Всего на сумму","label-for":"total",description:"тег 1020"}},[e("b-form-input",{attrs:{id:"total",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0",required:"",disabled:0!==t.receipt.state},model:{value:t.receipt.payload.total,callback:function(e){t.$set(t.receipt.payload,"total",t._n(e))},expression:"receipt.payload.total"}})],1)],1),t._v(" "),e("b-col",{staticClass:"mb-sm-3",attrs:{"align-self":"end",lg:"1",md:"2",sm:"3"}},[e("b-button",{staticClass:"mb-sm-4",attrs:{variant:"primary",size:"sm",disabled:0!==t.receipt.state},on:{click:t.addItem}},[t._v("Добавить")])],1)],1)],1)],2)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-payments",modifiers:{"receipt-payments":!0}}],attrs:{block:"",variant:"info"}},[t._v("Данные по оплате")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-payments",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            TODO\n                        ")]),t._v(" "),e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Наличными","label-for":"paymentCash",description:"тег 1031"}},[e("b-form-input",{attrs:{id:"paymentCash",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:t.receipt.payload.payments.cash,callback:function(e){t.$set(t.receipt.payload.payments,"cash",t._n(e))},expression:"receipt.payload.payments.cash"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Безналичными","label-for":"paymentElectronic",description:"тег 1081"}},[e("b-form-input",{attrs:{id:"paymentElectronic",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:t.receipt.payload.payments.electronic,callback:function(e){t.$set(t.receipt.payload.payments,"electronic",t._n(e))},expression:"receipt.payload.payments.electronic"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Предоплатой","label-for":"paymentPrepaid",description:"тег 1215"}},[e("b-form-input",{attrs:{id:"paymentPrepaid",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:t.receipt.payload.payments.prepaid,callback:function(e){t.$set(t.receipt.payload.payments,"prepaid",t._n(e))},expression:"receipt.payload.payments.prepaid"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Постоплатой","label-for":"paymentPostpaid",description:"тег 1216"}},[e("b-form-input",{attrs:{id:"paymentPostpaid",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:t.receipt.payload.payments.postpaid,callback:function(e){t.$set(t.receipt.payload.payments,"postpaid",t._n(e))},expression:"receipt.payload.payments.postpaid"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Встр. предст.","label-for":"paymentOther",description:"тег 1217"}},[e("b-form-input",{attrs:{id:"paymentOther",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:t.receipt.payload.payments.other,callback:function(e){t.$set(t.receipt.payload.payments,"other",t._n(e))},expression:"receipt.payload.payments.other"}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-vats",modifiers:{"receipt-vats":!0}}],attrs:{block:"",variant:"info"}},[t._v("НДС на чек")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-vats",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-text",[t._v("\n                            Необходимо передать либо сумму налога на позицию, либо сумму налога на чек. Если будет переданы и сумма налога на позицию и сумма налога на чек, сервис учтет только сумму налога на чек.\n                            "),t.receipt.payload.vats?e("span",[t._v("В данный момент используются суммы налога на чек. Для возврата к использованию сумм налога на позицию, очистите все поля в этом разделе.")]):e("span",[t._v("В данный момент используются суммы налога на позицию. В полях ниже можно увидеть их расчетные величины.")])]),t._v(" "),e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма расчета по чеку без НДС","label-for":"withoutVat",description:"тег 1105"}},[e("b-form-input",{attrs:{id:"withoutVat",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatsPlaceholder.without_vat},model:{value:t.vatsWithoutVat,callback:function(e){t.vatsWithoutVat=t._n(e)},expression:"vatsWithoutVat"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма расчета по чеку с НДС 0%","label-for":"withVat0",description:"тег 1104"}},[e("b-form-input",{attrs:{id:"withVat0",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatsPlaceholder.with_vat0},model:{value:t.vatsWithVat0,callback:function(e){t.vatsWithVat0=t._n(e)},expression:"vatsWithVat0"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма НДС чека по ставке 10%","label-for":"vat10",description:"тег 1103"}},[e("b-form-input",{attrs:{id:"vat10",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatsPlaceholder.vat10},model:{value:t.vatsVat10,callback:function(e){t.vatsVat10=t._n(e)},expression:"vatsVat10"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма НДС чека по ставке 20%","label-for":"vat20",description:"тег 1102"}},[e("b-form-input",{attrs:{id:"vat20",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatsPlaceholder.vat20},model:{value:t.vatsVat20,callback:function(e){t.vatsVat20=t._n(e)},expression:"vatsVat20"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма НДС чека по расч. ставке 10/110","label-for":"vat110",description:"тег 1107"}},[e("b-form-input",{attrs:{id:"vat110",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatsPlaceholder.vat110},model:{value:t.vatsVat110,callback:function(e){t.vatsVat110=t._n(e)},expression:"vatsVat110"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма НДС чека по расч. ставке 20/120","label-for":"vat120",description:"тег 1106"}},[e("b-form-input",{attrs:{id:"vat120",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:t.vatsPlaceholder.vat120},model:{value:t.vatsVat120,callback:function(e){t.vatsVat120=t._n(e)},expression:"vatsVat120"}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-misc",modifiers:{"receipt-misc":!0}}],attrs:{block:"",variant:"info"}},[t._v("Дополнительные реквизиты")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-misc",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-form-group",{attrs:{disabled:0!==t.receipt.state}},[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Доп. реквизит чека","label-for":"additionalCheckProps",description:"тег 1192"}},[e("b-form-input",{attrs:{id:"additionalCheckProps",type:"text",size:"sm",maxlength:"16"},model:{value:t.receipt.payload.additional_check_props,callback:function(e){t.$set(t.receipt.payload,"additional_check_props",e)},expression:"receipt.payload.additional_check_props"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"5",sm:"8"}},[e("b-form-group",{attrs:{label:"ФИО кассира","label-for":"cashier",description:"тег 1021"}},[e("b-form-input",{attrs:{id:"cashier",type:"text",size:"sm",maxlength:"64"},model:{value:t.receipt.payload.cashier,callback:function(e){t.$set(t.receipt.payload,"cashier",e)},expression:"receipt.payload.cashier"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[e("b-form-group",{attrs:{label:"Наим. доп. рекв. пользователя","label-for":"additionalUserPropsName",description:"тег 1085"}},[e("b-form-input",{attrs:{id:"additionalUserPropsName",type:"text",size:"sm",maxlength:"64"},model:{value:t.model["additional_user_props.name"],callback:function(e){t.$set(t.model,"additional_user_props.name",e)},expression:"model['additional_user_props.name']"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"4",md:"8",sm:"12"}},[e("b-form-group",{attrs:{label:"Знач. доп. рекв. пользователя","label-for":"additionalUserPropsValue",description:"тег 1086"}},[e("b-form-input",{attrs:{id:"additionalUserPropsValue",type:"text",size:"sm",maxlength:"256"},model:{value:t.model["additional_user_props.value"],callback:function(e){t.$set(t.model,"additional_user_props.value",e)},expression:"model['additional_user_props.value']"}})],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),t.receipt.result?e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-result",modifiers:{"receipt-result":!0}}],attrs:{block:"",variant:"info"}},[t._v("Результат обработки")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-result",accordion:"receipt-accordion",role:"tabpanel"}},[e("b-card-body",[e("b-card-sub-title",{staticClass:"mb-3"},[t._v("Информация поставщика")]),t._v(" "),e("b-container",{attrs:{fluid:""}},[e("b-form-row",[e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Дата и время"}},[t._v("\n                                        "+t._s(t.formatTime(t.receipt.result.timestamp))+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{description:"Внутренний идентификатор"}},[t._v("\n                                        "+t._s(t.receipt.result.internal_id)+"\n                                    ")])],1)],1)],1),t._v(" "),t.receipt.result.payload?e("b-card-sub-title",{staticClass:"mb-3"},[t._v("Информация ОФД")]):t._e(),t._v(" "),t.receipt.result.payload?e("b-container",{attrs:{fluid:""}},[e("b-form-row",[e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Дата и время (тег 1012)"}},[t._v("\n                                        "+t._s(t.formatTime(t.receipt.result.payload.receipt_datetime,"DD.MM.YYYY HH:mm"))+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Номер смены (тег 1038)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.shift_number)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Номер чека в смене (тег 1042)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.fiscal_receipt_number)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Сумма расчета (тег 1020)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.total)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Рег. номер ККТ (тег 1037)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.ecr_registration_number)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Номер ФН (тег 1041)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.fn_number)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Фискальный номер документа (тег 1040)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.fiscal_document_number)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[e("b-form-group",{attrs:{description:"Фискальный признак документа (тег 1077)"}},[t._v("\n                                        "+t._s(t.receipt.result.payload.fiscal_document_attribute)+"\n                                    ")])],1),t._v(" "),e("b-col",{staticClass:"mb-3",attrs:{lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{description:"Адрес сайта ФНС (тег 1060)"}},[e("b-link",{attrs:{href:t.resultPayloadFnsSite,target:"_blank"}},[t._v(t._s(t.resultPayloadFnsSite))])],1)],1)],1)],1):t._e()],1)],1)],1):t._e(),t._v(" "),t.receipt.id?e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-preview",modifiers:{"receipt-preview":!0}}],attrs:{block:"",variant:"info"}},[t._v("Просмотр чека")])],1),t._v(" "),e("b-collapse",{attrs:{id:"receipt-preview",accordion:"receipt-accordion",role:"tabpanel"},on:{show:function(e){t.showPreview=!0}}},[e("b-card-body",{staticClass:"px-0"},[t.showPreview?e("iframe",{attrs:{src:t.FiscalRegistrar.basePath+"/api/v1/receipts/"+t.receipt.id+"/preview",width:"100%"},on:{load:t.fitContent}}):t._e()])],1)],1):t._e()],1),t._v(" "),e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-3"},[e("b-col",{attrs:{sm:"8"}},[0===t.receipt.state?e("b-button",{staticClass:"mb-1",attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v("Сохранить")]):t._e(),t._v(" "),t.receipt.id?e("b-button",{staticClass:"mb-1",attrs:{variant:"primary",size:"sm",to:{name:"new-receipt-from-existing",params:{id:t.receipt.id}}}},[t._v("Дублировать")]):t._e(),t._v(" "),0===t.receipt.state?e("b-button",{staticClass:"mb-1",attrs:{variant:"success",size:"sm"},on:{click:t.registerReceipt}},[t._v("Зарегистрировать")]):t._e(),t._v(" "),1===t.receipt.state?e("b-button",{staticClass:"mb-1",attrs:{variant:"warning",size:"sm"},on:{click:t.syncReceipt}},[t._v("Синхронизировать")]):t._e(),t._v(" "),t.receipt.id?e("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:t.printReceipt}},[t._v("Распечатать")]):t._e(),t._v(" "),t.receipt.result?e("b-button",{staticClass:"mb-1",attrs:{size:"sm",href:t.receipt.result.payload.ofd_receipt_url,target:"_blank"}},[t._v("Просмотреть в ОФД")]):t._e(),t._v(" "),t.receipt.id&&0===t.receipt.state?e("b-button",{staticClass:"mb-1",attrs:{variant:"danger",size:"sm"},on:{click:t.deleteReceipt}},[t._v("Удалить")]):t._e()],1),t._v(" "),e("b-col",{staticClass:"text-right",attrs:{sm:"4"}},[e("b-button",{staticClass:"mb-1",attrs:{size:"sm",to:{name:"receipts"}}},[t._v("К списку")])],1)],1)],1)],1):t._e()],1)}),[],!1,null,"6b0512c6",null).exports},3643:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(4420);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function p(t,e,r,a){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),s=new q(a||[]);return n(o,"_invoke",{value:k(t,r,s)}),o}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var m={};function f(){}function b(){}function y(){}var v={};u(v,s,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(S([])));g&&g!==e&&r.call(g,s)&&(v=g);var _=y.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(n,o,s,l){var c=d(t[n],t,o);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==a(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,l)}))}l(c.arg)}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return o=o?o.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return E()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function P(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return b.prototype=y,n(_,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:b,configurable:!0}),b.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(w.prototype),u(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new w(p(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(_),u(_,c,"Generator"),u(_,s,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){u(i,n,a,o,s,"next",t)}function s(t){u(i,n,a,o,s,"throw",t)}o(void 0)}))}}const d={data:function(){return{fields:[{key:"id",label:"#",sortable:!0},{key:"created_at",label:"Время",sortable:!0},{key:"connection",label:"Соединение",sortable:!0},{key:"operation",label:"Тип",sortable:!0},{key:"payload.total",label:"Сумма",sortable:!0},{key:"state",label:"Статус",sortable:!0}],aliases:{"payload.total":"total"},receipts:{},page:1}},mounted:function(){this.populateQuery(),this.enumConnections(),this.getReceipts()},methods:{populateQuery:function(){sessionStorage["fiscal-registrar.page"]&&(this.page=+sessionStorage["fiscal-registrar.page"])},getReceipts:function(){var t=arguments,e=this;return p(o().mark((function r(){var a,i,l,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(i=t.length>0&&void 0!==t[0]?t[0]:null)&&(e.page=i),l=new n.Z,Object.entries(e.query.filter).filter((function(t){var e=s(t,2);e[0];return!!e[1]})).forEach((function(t){var e=s(t,2),r=e[0],n=e[1];return l.where(r,n)})),c=null!==(a=e.aliases[e.query.sort.by])&&void 0!==a?a:e.query.sort.by,e.query.sort.desc&&(c="-"+c),l.orderBy(c),e.page&&l.page(e.page),r.next=10,l.get();case 10:e.receipts=r.sent;case 11:case"end":return r.stop()}}),r)})))()}},computed:{selectConnections:function(){return[{value:null,text:"любое"}].concat(i(this.buildOptions(this.connections,(function(t){var e=s(t,2);return{value:e[0],text:e[1].display_name}}))))},selectOperations:function(){return[{value:null,text:"все"}].concat(i(this.buildOptions(this.dictionary.operations)))},selectStates:function(){return[{value:null,text:"любой"}].concat(i(this.buildOptions(this.dictionary.states)))}},watch:{query:{handler:function(t){this.getReceipts(1)},deep:!0},page:function(t){sessionStorage["fiscal-registrar.page"]=t}}};const m=(0,r(1900).Z)(d,(function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"text-center"},[t._v("Кассовые чеки")]),t._v(" "),t.query.hideFilter?t._e():e("b-form-group",[e("b-container",{attrs:{fluid:""}},[e("b-form-row",{staticClass:"my-1"},[e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Порядковый номер","label-for":"receiptId"}},[e("b-form-input",{attrs:{id:"receiptId",type:"number",size:"sm",debounce:"500"},model:{value:t.query.filter.id,callback:function(e){t.$set(t.query.filter,"id",t._n(e))},expression:"query.filter.id"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Уникальный идентификатор","label-for":"receiptExternalId"}},[e("b-form-input",{attrs:{id:"receiptExternalId",type:"text",size:"sm",debounce:"500"},model:{value:t.query.filter.external_id,callback:function(e){t.$set(t.query.filter,"external_id",e)},expression:"query.filter.external_id"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Идентификатор поставщика","label-for":"receiptInternalId"}},[e("b-form-input",{attrs:{id:"receiptInternalId",type:"text",size:"sm",debounce:"500"},model:{value:t.query.filter.internal_id,callback:function(e){t.$set(t.query.filter,"internal_id",e)},expression:"query.filter.internal_id"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Время создания от","label-for":"receiptCreatedFrom"}},[e("b-form-input",{attrs:{id:"receiptCreatedFrom",type:"datetime-local",size:"sm"},model:{value:t.query.filter.created_from,callback:function(e){t.$set(t.query.filter,"created_from",e)},expression:"query.filter.created_from"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Время создания до","label-for":"receiptCreatedTo"}},[e("b-form-input",{attrs:{id:"receiptCreatedTo",type:"datetime-local",size:"sm"},model:{value:t.query.filter.created_to,callback:function(e){t.$set(t.query.filter,"created_to",e)},expression:"query.filter.created_to"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Соединение","label-for":"receiptConnection"}},[e("b-form-select",{attrs:{id:"receiptConnection",size:"sm",options:t.selectConnections},model:{value:t.query.filter.connection,callback:function(e){t.$set(t.query.filter,"connection",e)},expression:"query.filter.connection"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Операция","label-for":"receiptOperation"}},[e("b-form-select",{attrs:{id:"receiptOperation",size:"sm",options:t.selectOperations},model:{value:t.query.filter.operation,callback:function(e){t.$set(t.query.filter,"operation",e)},expression:"query.filter.operation"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма от","label-for":"receiptMinTotal"}},[e("b-form-input",{attrs:{id:"receiptMinTotal",type:"number",min:"0",max:t.query.filter.max_total||42949672.95,step:".01",size:"sm",debounce:"500"},model:{value:t.query.filter.min_total,callback:function(e){t.$set(t.query.filter,"min_total",t._n(e))},expression:"query.filter.min_total"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Сумма до","label-for":"receiptMaxTotal"}},[e("b-form-input",{attrs:{id:"receiptMaxTotal",type:"number",min:t.query.filter.min_total||0,max:"42949672.95",step:".01",size:"sm",debounce:"500"},model:{value:t.query.filter.max_total,callback:function(e){t.$set(t.query.filter,"max_total",t._n(e))},expression:"query.filter.max_total"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Статус","label-for":"receiptState"}},[e("b-form-select",{attrs:{id:"receiptState",size:"sm",options:t.selectStates},model:{value:t.query.filter.state,callback:function(e){t.$set(t.query.filter,"state",e)},expression:"query.filter.state"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"E-mail клиента","label-for":"receiptClientEmail"}},[e("b-form-input",{attrs:{id:"receiptClientEmail",type:"email",size:"sm",placeholder:"user@domain.com",debounce:"500"},model:{value:t.query.filter.email,callback:function(e){t.$set(t.query.filter,"email",e)},expression:"query.filter.email"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"Телефон клиента","label-for":"receiptClientPhone"}},[e("b-form-input",{attrs:{id:"receiptClientPhone",type:"tel",size:"sm",placeholder:"+79001234567",debounce:"500"},model:{value:t.query.filter.phone,callback:function(e){t.$set(t.query.filter,"phone",e)},expression:"query.filter.phone"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"ФН","label-for":"receiptFnNumber"}},[e("b-form-input",{attrs:{id:"receiptFnNumber",type:"number",size:"sm",debounce:"500"},model:{value:t.query.filter.fn,callback:function(e){t.$set(t.query.filter,"fn",t._n(e))},expression:"query.filter.fn"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"ФД №","label-for":"receiptFiscalDocumentNumber"}},[e("b-form-input",{attrs:{id:"receiptFiscalDocumentNumber",type:"number",size:"sm",debounce:"500"},model:{value:t.query.filter.i,callback:function(e){t.$set(t.query.filter,"i",t._n(e))},expression:"query.filter.i"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{attrs:{label:"ФПД","label-for":"receiptFiscalDocumentAttribute"}},[e("b-form-input",{attrs:{id:"receiptFiscalDocumentAttribute",type:"number",size:"sm",debounce:"500"},model:{value:t.query.filter.fd,callback:function(e){t.$set(t.query.filter,"fd",t._n(e))},expression:"query.filter.fd"}})],1)],1),t._v(" "),e("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[e("b-form-group",{staticClass:"text-center"},[e("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:t.resetFilter}},[t._v("Очистить фильтр")])],1)],1)],1)],1)],1),t._v(" "),e("b-table",{attrs:{small:"",striped:"",hover:"",items:t.receipts.data,fields:t.fields,"no-local-sorting":"","sort-by":t.query.sort.by,"sort-desc":t.query.sort.desc},on:{"update:sortBy":function(e){return t.$set(t.query.sort,"by",e)},"update:sort-by":function(e){return t.$set(t.query.sort,"by",e)},"update:sortDesc":function(e){return t.$set(t.query.sort,"desc",e)},"update:sort-desc":function(e){return t.$set(t.query.sort,"desc",e)}},scopedSlots:t._u([{key:"cell(id)",fn:function(r){return[e("b-link",{attrs:{to:{name:"receipt",params:{id:r.value}}}},[t._v(t._s(r.value))])]}},{key:"cell(created_at)",fn:function(e){return[t._v("\n            "+t._s(t.formatTime(e.value))+"\n        ")]}},{key:"cell(connection)",fn:function(e){return[t._v("\n            "+t._s(e.value?t.connections[e.value].display_name:"-")+"\n        ")]}},{key:"cell(operation)",fn:function(e){return[t._v("\n            "+t._s(e.value?t.dictionary.operations[e.value]:"-")+"\n        ")]}},{key:"cell(payload.total)",fn:function(r){return[e("div",{staticClass:"text-right"},[t._v(t._s(r.value))])]}},{key:"cell(state)",fn:function(e){return[t._v("\n            "+t._s(t.dictionary.states[e.value])+"\n        ")]}}])}),t._v(" "),e("pagination",{attrs:{data:t.receipts,limit:2,"show-disabled":!0,align:"center"},on:{"pagination-change-page":t.getReceipts}}),t._v(" "),t.query.hideCreateButton?t._e():e("b-button",{attrs:{to:{name:"new-receipt"},variant:"primary",size:"sm"}},[t._v("Создать")])],1)}),[],!1,null,null,null).exports},4654:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[143,660],(()=>(e(1541),e(6609))));t.O()}]);