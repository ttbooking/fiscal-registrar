const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/receipts-l0Rhz7VZ.js","assets/_plugin-vue2_normalizer-QR2ZzbLp.js","assets/vendor-B8UUPTre.js","assets/receipt-tZb5fgpE.js","assets/receipt-B78QawAJ.css"])))=>i.map(i=>d[i]);
import{h as w,V as s,B as b,a as E,b as h,c as R,m as x,q as P,L as q}from"./vendor-B8UUPTre.js";const O={computed:{FiscalRegistrar(){return FiscalRegistrar},$echo(){return Echo.channel("fiscal-registrar")},agentTypeOptions(){return[{value:null,text:"нет"},...this.buildOptions(this.dictionary.agentTypes)]},taxSystemOptions(){return[{value:null,text:"не выбрано"},...this.buildOptions(this.dictionary.taxSystems)]}},methods:{formatTime(e,t="DD.MM.YYYY HH:mm:ss"){return w(e).format(t)},buildOptions(e,t=null){return t??=([l,p])=>({value:l,text:p}),Object.entries(e).map(t)},extractVat(e,t){return parseFloat((e-e/(1+this.dictionary.vatRates[t])).toFixed(2))},emptify(e){if(!e||typeof e!="object")return e;for(const t in e)e[t]=this.emptify(e[t]),e[t]||(e[t]=null);return Object.values(e).every(t=>t===null)&&(e=null),e},enumConnections(){this.$http.get(FiscalRegistrar.basePath+"/api/v1/connection").then(e=>{this.connections=e.data})},resetFilter(){this.query.filter={id:null,external_id:null,internal_id:null,created_from:null,created_to:null,connection:null,operation:null,min_total:null,max_total:null,state:null,email:null,phone:null,fn:null,i:null,fd:null}}},beforeMount(){this.resetFilter(),this.query=merge.all([this.query,JSON.parse(sessionStorage["fiscal-registrar.query"]||"{}"),qs.parse(window.location.search.replace(/^\?/,""))])},watch:{query:{handler:function(e){sessionStorage["fiscal-registrar.query"]=JSON.stringify(e)},deep:!0}},data(){return{query:{hideFilter:!1,hideCreateButton:!1,filter:{},sort:{by:"id",desc:!1}},connections:{},dictionary:{operations:{sell:"приход",sell_refund:"возврат прихода",buy:"расход",buy_refund:"возврат расхода"},states:["не зарегистрирован","зарегистрирован","проведен"],agentTypes:{bank_paying_agent:"банковский платежный агент",bank_paying_subagent:"банковский платежный субагент",paying_agent:"платежный агент",paying_subagent:"платежный субагент",attorney:"поверенный",commission_agent:"комиссионер",another:"агент"},taxSystems:{osn:"общая система налогообложения",usn_income:"упрощенная система налогообложения (доходы)",usn_income_outcome:"упрощенная система налогообложения (доходы минус расходы)",envd:"единый налог на вмененный доход",esn:"единый сельскохозяйственный налог",patent:"патентная система налогообложения"},paymentMethods:{full_prepayment:"предоплата 100%",prepayment:"предоплата",advance:"аванс",full_payment:"полный расчет",partial_payment:"частичный расчет и кредит",credit:"передача в кредит",credit_payment:"оплата кредита"},paymentObjects:{commodity:"товар",excise:"подакцизный товар",job:"работа",service:"услуга",gambling_bet:"ставка азартной игры",gambling_prize:"выигрыш азартной игры",lottery:"лотерейный билет",lottery_prize:"выигрыш лотереи",intellectual_activity:"предоставление результатов интеллектуальной деятельности",payment:"платеж",agent_commission:"агентское вознаграждение",award:"взнос/штраф/вознаграждение/бонус",composite:"составной предмет расчета",another:"иной предмет расчета",property_right:"имущественное право","non-operating_gain":"внереализационный доход",insurance_premium:"страховые взносы",sales_tax:"торговый сбор",resort_fee:"курортный сбор",deposit:"залог",expense:"расход",pension_insurance_ip:"взносы на ОПС ИП",pension_insurance:"взносы на ОПС",medical_insurance_ip:"взносы на ОМС ИП",medical_insurance:"взносы на ОМС",social_insurance:"взносы на ОСС",casino_payment:"платеж казино"},vatTypes:{none:"нет",vat0:"0%",vat5:"5%",vat7:"7%",vat10:"10%",vat18:"18%",vat20:"20%",vat105:"5/105",vat107:"7/107",vat110:"10/110",vat118:"18/118",vat120:"20/120"},vatRates:{none:0,vat0:0,vat5:.05,vat7:.07,vat10:.1,vat18:.18,vat20:.2,vat105:5/105,vat107:7/107,vat110:10/110,vat118:18/118,vat120:20/120}}}}},F="modulepreload",S=function(e){return"/vendor/fiscal-registrar/build/"+e},_={},u=function(t,l,p){let d=Promise.resolve();if(l&&l.length>0){let f=function(n){return Promise.all(n.map(o=>Promise.resolve(o).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=i?.nonce||i?.getAttribute("nonce");d=f(l.map(n=>{if(n=S(n),n in _)return;_[n]=!0;const o=n.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${c}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":F,o||(a.as="script"),a.crossOrigin="",a.href=n,r&&a.setAttribute("nonce",r),document.head.appendChild(a),o)return new Promise((g,v)=>{a.addEventListener("load",g),a.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${n}`)))})}))}function m(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return d.then(i=>{for(const r of i||[])r.status==="rejected"&&m(r.reason);return t().catch(m)})},V=[{path:"/",redirect:"/receipts"},{path:"/receipts",name:"receipts",component:()=>u(()=>import("./receipts-l0Rhz7VZ.js"),__vite__mapDeps([0,1,2]))},{path:"/receipt/new",name:"new-receipt",component:()=>u(()=>import("./receipt-tZb5fgpE.js"),__vite__mapDeps([3,1,2,4]))},{path:"/receipt/from/:id",name:"new-receipt-from-existing",component:()=>u(()=>import("./receipt-tZb5fgpE.js"),__vite__mapDeps([3,1,2,4]))},{path:"/receipt/:id",name:"receipt",component:()=>u(()=>import("./receipt-tZb5fgpE.js"),__vite__mapDeps([3,1,2,4]))}];s.use(b);s.use(E);s.use(h);s.prototype.$http=window.axios.create();R.Model.$http=window.axios;window.merge=x;window.qs=P;window.FiscalRegistrar.basePath="/"+window.FiscalRegistrar.path;let y=window.FiscalRegistrar.basePath+"/";(window.FiscalRegistrar.path===""||window.FiscalRegistrar.path==="/")&&(y="/",window.FiscalRegistrar.basePath="");const T=new h({routes:V,mode:"history",base:y,parseQuery(e){return window.qs.parse(e)},stringifyQuery(e){let t=window.qs.stringify(e,{encode:!1});return t?"?"+t:""}});s.component("pagination",q);s.mixin(O);new s({el:"#fiscal-registrar",router:T});
//# sourceMappingURL=app-CXI2htSA.js.map
