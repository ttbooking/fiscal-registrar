import{h as f,V as r,B as g,a as v,b as _,c as w,d as R,l as x}from"./vendor.18f190ae.js";const O={computed:{FiscalRegistrar(){return FiscalRegistrar},$echo(){return Echo.channel("fiscal-registrar")},agentTypeOptions(){return[{value:null,text:"\u043D\u0435\u0442"},...this.buildOptions(this.dictionary.agentTypes)]},taxSystemOptions(){return[{value:null,text:"\u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E"},...this.buildOptions(this.dictionary.taxSystems)]}},methods:{formatTime(e,t="DD.MM.YYYY HH:mm:ss"){return f(e).format(t)},buildOptions(e,t=null){return t!=null||(t=([a,c])=>({value:a,text:c})),Object.entries(e).map(t)},extractVat(e,t){return parseFloat((e-e/(1+this.dictionary.vatRates[t])).toFixed(2))},emptify(e){if(!e||typeof e!="object")return e;for(const t in e)e[t]=this.emptify(e[t]),e[t]||(e[t]=null);return Object.values(e).every(t=>t===null)&&(e=null),e},enumConnections(){this.$http.get(FiscalRegistrar.basePath+"/api/v1/connection").then(e=>{this.connections=e.data})},resetFilter(){this.query.filter={id:null,external_id:null,internal_id:null,created_from:null,created_to:null,connection:null,operation:null,min_total:null,max_total:null,state:null,email:null,phone:null,fn:null,i:null,fd:null}}},beforeMount(){this.resetFilter(),this.query=merge.all([this.query,JSON.parse(sessionStorage["fiscal-registrar.query"]||"{}"),qs.parse(window.location.search.replace(/^\?/,""))])},watch:{query:{handler:function(e){sessionStorage["fiscal-registrar.query"]=JSON.stringify(e)},deep:!0}},data(){return{query:{hideFilter:!1,hideCreateButton:!1,filter:{},sort:{by:"id",desc:!1}},connections:{},dictionary:{operations:{sell:"\u043F\u0440\u0438\u0445\u043E\u0434",sell_refund:"\u0432\u043E\u0437\u0432\u0440\u0430\u0442 \u043F\u0440\u0438\u0445\u043E\u0434\u0430",buy:"\u0440\u0430\u0441\u0445\u043E\u0434",buy_refund:"\u0432\u043E\u0437\u0432\u0440\u0430\u0442 \u0440\u0430\u0441\u0445\u043E\u0434\u0430"},states:["\u043D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D","\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D","\u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D"],agentTypes:{bank_paying_agent:"\u0431\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0438\u0439 \u043F\u043B\u0430\u0442\u0435\u0436\u043D\u044B\u0439 \u0430\u0433\u0435\u043D\u0442",bank_paying_subagent:"\u0431\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0438\u0439 \u043F\u043B\u0430\u0442\u0435\u0436\u043D\u044B\u0439 \u0441\u0443\u0431\u0430\u0433\u0435\u043D\u0442",paying_agent:"\u043F\u043B\u0430\u0442\u0435\u0436\u043D\u044B\u0439 \u0430\u0433\u0435\u043D\u0442",paying_subagent:"\u043F\u043B\u0430\u0442\u0435\u0436\u043D\u044B\u0439 \u0441\u0443\u0431\u0430\u0433\u0435\u043D\u0442",attorney:"\u043F\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0439",commission_agent:"\u043A\u043E\u043C\u0438\u0441\u0441\u0438\u043E\u043D\u0435\u0440",another:"\u0430\u0433\u0435\u043D\u0442"},taxSystems:{osn:"\u043E\u0431\u0449\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u043E\u043E\u0431\u043B\u043E\u0436\u0435\u043D\u0438\u044F",usn_income:"\u0443\u043F\u0440\u043E\u0449\u0435\u043D\u043D\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u043E\u043E\u0431\u043B\u043E\u0436\u0435\u043D\u0438\u044F (\u0434\u043E\u0445\u043E\u0434\u044B)",usn_income_outcome:"\u0443\u043F\u0440\u043E\u0449\u0435\u043D\u043D\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u043E\u043E\u0431\u043B\u043E\u0436\u0435\u043D\u0438\u044F (\u0434\u043E\u0445\u043E\u0434\u044B \u043C\u0438\u043D\u0443\u0441 \u0440\u0430\u0441\u0445\u043E\u0434\u044B)",envd:"\u0435\u0434\u0438\u043D\u044B\u0439 \u043D\u0430\u043B\u043E\u0433 \u043D\u0430 \u0432\u043C\u0435\u043D\u0435\u043D\u043D\u044B\u0439 \u0434\u043E\u0445\u043E\u0434",esn:"\u0435\u0434\u0438\u043D\u044B\u0439 \u0441\u0435\u043B\u044C\u0441\u043A\u043E\u0445\u043E\u0437\u044F\u0439\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u043D\u0430\u043B\u043E\u0433",patent:"\u043F\u0430\u0442\u0435\u043D\u0442\u043D\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u043E\u043E\u0431\u043B\u043E\u0436\u0435\u043D\u0438\u044F"},paymentMethods:{full_prepayment:"\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430 100%",prepayment:"\u043F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u0430",advance:"\u0430\u0432\u0430\u043D\u0441",full_payment:"\u043F\u043E\u043B\u043D\u044B\u0439 \u0440\u0430\u0441\u0447\u0435\u0442",partial_payment:"\u0447\u0430\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u0438 \u043A\u0440\u0435\u0434\u0438\u0442",credit:"\u043F\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0432 \u043A\u0440\u0435\u0434\u0438\u0442",credit_payment:"\u043E\u043F\u043B\u0430\u0442\u0430 \u043A\u0440\u0435\u0434\u0438\u0442\u0430"},paymentObjects:{commodity:"\u0442\u043E\u0432\u0430\u0440",excise:"\u043F\u043E\u0434\u0430\u043A\u0446\u0438\u0437\u043D\u044B\u0439 \u0442\u043E\u0432\u0430\u0440",job:"\u0440\u0430\u0431\u043E\u0442\u0430",service:"\u0443\u0441\u043B\u0443\u0433\u0430",gambling_bet:"\u0441\u0442\u0430\u0432\u043A\u0430 \u0430\u0437\u0430\u0440\u0442\u043D\u043E\u0439 \u0438\u0433\u0440\u044B",gambling_prize:"\u0432\u044B\u0438\u0433\u0440\u044B\u0448 \u0430\u0437\u0430\u0440\u0442\u043D\u043E\u0439 \u0438\u0433\u0440\u044B",lottery:"\u043B\u043E\u0442\u0435\u0440\u0435\u0439\u043D\u044B\u0439 \u0431\u0438\u043B\u0435\u0442",lottery_prize:"\u0432\u044B\u0438\u0433\u0440\u044B\u0448 \u043B\u043E\u0442\u0435\u0440\u0435\u0438",intellectual_activity:"\u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432 \u0438\u043D\u0442\u0435\u043B\u043B\u0435\u043A\u0442\u0443\u0430\u043B\u044C\u043D\u043E\u0439 \u0434\u0435\u044F\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438",payment:"\u043F\u043B\u0430\u0442\u0435\u0436",agent_commission:"\u0430\u0433\u0435\u043D\u0442\u0441\u043A\u043E\u0435 \u0432\u043E\u0437\u043D\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043D\u0438\u0435",award:"\u0432\u0437\u043D\u043E\u0441/\u0448\u0442\u0440\u0430\u0444/\u0432\u043E\u0437\u043D\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043D\u0438\u0435/\u0431\u043E\u043D\u0443\u0441",composite:"\u0441\u043E\u0441\u0442\u0430\u0432\u043D\u043E\u0439 \u043F\u0440\u0435\u0434\u043C\u0435\u0442 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",another:"\u0438\u043D\u043E\u0439 \u043F\u0440\u0435\u0434\u043C\u0435\u0442 \u0440\u0430\u0441\u0447\u0435\u0442\u0430",property_right:"\u0438\u043C\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0435 \u043F\u0440\u0430\u0432\u043E","non-operating_gain":"\u0432\u043D\u0435\u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0439 \u0434\u043E\u0445\u043E\u0434",insurance_premium:"\u0441\u0442\u0440\u0430\u0445\u043E\u0432\u044B\u0435 \u0432\u0437\u043D\u043E\u0441\u044B",sales_tax:"\u0442\u043E\u0440\u0433\u043E\u0432\u044B\u0439 \u0441\u0431\u043E\u0440",resort_fee:"\u043A\u0443\u0440\u043E\u0440\u0442\u043D\u044B\u0439 \u0441\u0431\u043E\u0440",deposit:"\u0437\u0430\u043B\u043E\u0433",expense:"\u0440\u0430\u0441\u0445\u043E\u0434",pension_insurance_ip:"\u0432\u0437\u043D\u043E\u0441\u044B \u043D\u0430 \u041E\u041F\u0421 \u0418\u041F",pension_insurance:"\u0432\u0437\u043D\u043E\u0441\u044B \u043D\u0430 \u041E\u041F\u0421",medical_insurance_ip:"\u0432\u0437\u043D\u043E\u0441\u044B \u043D\u0430 \u041E\u041C\u0421 \u0418\u041F",medical_insurance:"\u0432\u0437\u043D\u043E\u0441\u044B \u043D\u0430 \u041E\u041C\u0421",social_insurance:"\u0432\u0437\u043D\u043E\u0441\u044B \u043D\u0430 \u041E\u0421\u0421",casino_payment:"\u043F\u043B\u0430\u0442\u0435\u0436 \u043A\u0430\u0437\u0438\u043D\u043E"},vatTypes:{none:"\u043D\u0435\u0442",vat0:"0%",vat10:"10%",vat18:"18%",vat20:"20%",vat110:"10/110",vat118:"18/118",vat120:"20/120"},vatRates:{none:0,vat0:0,vat10:.1,vat18:.18,vat20:.2,vat110:10/110,vat118:18/118,vat120:20/120}}}}},E="modulepreload",F=function(e){return"/build/"+e},m={},u=function(t,a,c){if(!a||a.length===0)return t();const p=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=F(n),n in m)return;m[n]=!0;const s=n.endsWith(".css"),y=s?'[rel="stylesheet"]':"";if(!!c)for(let o=p.length-1;o>=0;o--){const l=p[o];if(l.href===n&&(!s||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${y}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":E,s||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),s)return new Promise((o,l)=>{i.addEventListener("load",o),i.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},q=[{path:"/",redirect:"/receipts"},{path:"/receipts",name:"receipts",component:()=>u(()=>import("./receipts.3ab736c5.js"),["assets/receipts.3ab736c5.js","assets/_plugin-vue2_normalizer.6058cad7.js","assets/vendor.18f190ae.js"])},{path:"/receipt/new",name:"new-receipt",component:()=>u(()=>import("./receipt.2f525631.js"),["assets/receipt.2f525631.js","assets/_plugin-vue2_normalizer.6058cad7.js","assets/vendor.18f190ae.js","assets/receipt.41f92b93.css"])},{path:"/receipt/from/:id",name:"new-receipt-from-existing",component:()=>u(()=>import("./receipt.2f525631.js"),["assets/receipt.2f525631.js","assets/_plugin-vue2_normalizer.6058cad7.js","assets/vendor.18f190ae.js","assets/receipt.41f92b93.css"])},{path:"/receipt/:id",name:"receipt",component:()=>u(()=>import("./receipt.2f525631.js"),["assets/receipt.2f525631.js","assets/_plugin-vue2_normalizer.6058cad7.js","assets/vendor.18f190ae.js","assets/receipt.41f92b93.css"])}];const d=document.head.querySelector('meta[name="csrf-token"]');d&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=d.content);r.use(g);r.use(v);r.use(_);r.prototype.$http=window.axios.create();w.Model.$http=window.axios;window.merge=R;window.qs=x;window.FiscalRegistrar.basePath="/"+window.FiscalRegistrar.path;let h=window.FiscalRegistrar.basePath+"/";(window.FiscalRegistrar.path===""||window.FiscalRegistrar.path==="/")&&(h="/",window.FiscalRegistrar.basePath="");const S=new _({routes:q,mode:"history",base:h,parseQuery(e){return window.qs.parse(e)},stringifyQuery(e){let t=window.qs.stringify(e,{encode:!1});return t?"?"+t:""}});r.component("pagination",require("laravel-vue-pagination"));r.mixin(O);new r({el:"#fiscal-registrar",router:S});
