import{n,R as i}from"./_plugin-vue2_normalizer.16d09ded.js";import"./vendor.6cbaa67a.js";const o={props:["item","disabled"],computed:{id(){return this.$vnode.key+1},model(){return this.$deepModel(this.item)},vatSum(){return String(this.extractVat(this.item.sum,this.item.vat.type))},agentType:{get:function(){var a;return(a=this.model["agent_info.type"])!=null?a:null},set:function(a){this.model["agent_info.type"]=a}},payingAgentPhones:{get:function(){var a;return(a=this.model["agent_info.paying_agent.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["agent_info.paying_agent.phones"]=a.length?a:null}},receivePaymentsOperatorPhones:{get:function(){var a;return(a=this.model["agent_info.receive_payments_operator.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["agent_info.receive_payments_operator.phones"]=a.length?a:null}},moneyTransferOperatorPhones:{get:function(){var a;return(a=this.model["agent_info.money_transfer_operator.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["agent_info.money_transfer_operator.phones"]=a.length?a:null}},supplierPhones:{get:function(){var a;return(a=this.model["supplier_info.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["supplier_info.phones"]=a.length?a:null}}},watch:{"item.price":function(a){this.item.sum=a*this.item.quantity},"item.quantity":function(a){this.item.sum=this.item.price*a},"item.sum":function(a){this.item.vat.sum=this.extractVat(a,this.item.vat.type)},"item.vat.type":function(a){this.item.vat.sum=this.extractVat(this.item.sum,a)},"item.agent_info":{handler:function(a){this.item.agent_info=(a==null?void 0:a.type)===null?null:this.emptify(a)},deep:!0},"item.supplier_info":{handler:function(a){this.item.supplier_info=(a==null?void 0:a.type)===null?null:this.emptify(a)},deep:!0}}};var l=function(){var e=this,t=e._self._c;return t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"4",md:"6",sm:"12"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","label-for":"item"+e.id+"Name",description:"\u0442\u0435\u0433 1030"}},[t("b-form-input",{attrs:{id:"item"+e.id+"Name",type:"text",size:"sm",required:"",disabled:e.disabled},model:{value:e.item.name,callback:function(r){e.$set(e.item,"name",r)},expression:"item.name"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u0426\u0435\u043D\u0430","label-for":"item"+e.id+"Price",description:"\u0442\u0435\u0433 1079"}},[t("b-form-input",{attrs:{id:"item"+e.id+"Price",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0",required:"",disabled:e.disabled},model:{value:e.item.price,callback:function(r){e.$set(e.item,"price",e._n(r))},expression:"item.price"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u041A\u043E\u043B-\u0432\u043E","label-for":"item"+e.id+"Quantity",description:"\u0442\u0435\u0433 1023"}},[t("b-form-input",{attrs:{id:"item"+e.id+"Quantity",type:"number",min:".001",max:"99999.999",step:"any",size:"sm",placeholder:"1",required:"",disabled:e.disabled},model:{value:e.item.quantity,callback:function(r){e.$set(e.item,"quantity",e._n(r))},expression:"item.quantity"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u0421\u0443\u043C\u043C\u0430","label-for":"item"+e.id+"Sum",description:"\u0442\u0435\u0433 1043"}},[t("b-form-input",{attrs:{id:"item"+e.id+"Sum",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0",required:"",disabled:e.disabled},model:{value:e.item.sum,callback:function(r){e.$set(e.item,"sum",e._n(r))},expression:"item.sum"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0415\u0434. \u0438\u0437\u043C.","label-for":"item"+e.id+"MeasurementUnit",description:"\u0442\u0435\u0433 1197"}},[t("b-form-input",{attrs:{id:"item"+e.id+"MeasurementUnit",type:"text",size:"sm",placeholder:"\u0448\u0442.",maxlength:"16",disabled:e.disabled},model:{value:e.item.measurement_unit,callback:function(r){e.$set(e.item,"measurement_unit",r)},expression:"item.measurement_unit"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"2",sm:"4"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u0421\u043F\u043E\u0441\u043E\u0431 \u0440\u0430\u0441\u0447\u0435\u0442\u0430","label-for":"item"+e.id+"PaymentMethod",description:"\u0442\u0435\u0433 1214"}},[t("b-form-select",{attrs:{id:"item"+e.id+"PaymentMethod",size:"sm",options:e.buildOptions(e.dictionary.paymentMethods),disabled:e.disabled},model:{value:e.item.payment_method,callback:function(r){e.$set(e.item,"payment_method",r)},expression:"item.payment_method"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"2",sm:"4"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u041F\u0440\u0435\u0434\u043C\u0435\u0442 \u0440\u0430\u0441\u0447\u0435\u0442\u0430","label-for":"item"+e.id+"PaymentObject",description:"\u0442\u0435\u0433 1212"}},[t("b-form-select",{attrs:{id:"item"+e.id+"PaymentObject",size:"sm",options:e.buildOptions(e.dictionary.paymentObjects),disabled:e.disabled},model:{value:e.item.payment_object,callback:function(r){e.$set(e.item,"payment_object",r)},expression:"item.payment_object"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u041D\u0414\u0421","label-for":"item"+e.id+"VatType",description:"\u0442\u0435\u0433 1199"}},[t("b-form-select",{attrs:{id:"item"+e.id+"VatType",size:"sm",options:e.buildOptions(e.dictionary.vatTypes),disabled:e.disabled},model:{value:e.item.vat.type,callback:function(r){e.$set(e.item.vat,"type",r)},expression:"item.vat.type"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u041D\u0414\u0421","label-for":"item"+e.id+"VatSum",description:"\u0442\u0435\u0433 1200"}},[t("b-form-input",{attrs:{id:"item"+e.id+"VatSum",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatSum,disabled:e.disabled},model:{value:e.item.vat.sum,callback:function(r){e.$set(e.item.vat,"sum",e._n(r))},expression:"item.vat.sum"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041F\u0440\u0438\u0437\u043D\u0430\u043A \u0430\u0433\u0435\u043D\u0442\u0430","label-for":"item"+e.id+"agentType",description:"\u0442\u0435\u0433 1222"}},[t("b-form-select",{attrs:{id:"item"+e.id+"agentType",size:"sm",options:e.agentTypeOptions,disabled:e.disabled},model:{value:e.agentType,callback:function(r){e.agentType=r},expression:"agentType"}})],1)],1),t("b-col",{staticClass:"ml-auto mr-0",attrs:{"align-self":"end",lg:"1",md:"1",sm:"1"}},[t("b-form-group",{staticClass:"text-right"},[t("b-button",{attrs:{variant:"danger",size:"sm",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",disabled:e.disabled},on:{click:function(r){return e.$emit("remove")}}},[t("b",[e._v("\xD7")])])],1)],1)],1),e.agentType!==null?t("div",{staticClass:"accordion",attrs:{role:"tablist"}},[t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+e.id+"-paying-agent",expression:"'receipt-item-' + id + '-paying-agent'"}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043F\u043B\u0430\u0442\u0435\u0436\u043D\u043E\u0433\u043E \u0430\u0433\u0435\u043D\u0442\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-item-"+e.id+"-paying-agent",accordion:"receipt-item-"+e.id+"-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438","label-for":"item"+e.id+"payingAgentOperation",description:"\u0442\u0435\u0433 1044"}},[t("b-form-input",{attrs:{id:"item"+e.id+"payingAgentOperation",type:"text",size:"sm",disabled:e.disabled},model:{value:e.model["agent_info.paying_agent.operation"],callback:function(r){e.$set(e.model,"agent_info.paying_agent.operation",r)},expression:"model['agent_info.paying_agent.operation']"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"item"+e.id+"payingAgentPhones",description:"\u0442\u0435\u0433 1073"}},[t("b-form-textarea",{attrs:{id:"item"+e.id+"payingAgentPhones",size:"sm","max-rows":"4",disabled:e.disabled},model:{value:e.payingAgentPhones,callback:function(r){e.payingAgentPhones=r},expression:"payingAgentPhones"}})],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+e.id+"-receive-payments-operator",expression:"'receipt-item-' + id + '-receive-payments-operator'"}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u0430 \u043F\u043E \u043F\u0440\u0438\u0435\u043C\u0443 \u043F\u043B\u0430\u0442\u0435\u0436\u0435\u0439")])],1),t("b-collapse",{attrs:{id:"receipt-item-"+e.id+"-receive-payments-operator",accordion:"receipt-item-"+e.id+"-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"item"+e.id+"receivePaymentsOperatorPhones",description:"\u0442\u0435\u0433 1074"}},[t("b-form-textarea",{attrs:{id:"item"+e.id+"receivePaymentsOperatorPhones",size:"sm","max-rows":"4",disabled:e.disabled},model:{value:e.receivePaymentsOperatorPhones,callback:function(r){e.receivePaymentsOperatorPhones=r},expression:"receivePaymentsOperatorPhones"}})],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+e.id+"-money-transfer-operator",expression:"'receipt-item-' + id + '-money-transfer-operator'"}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-item-"+e.id+"-money-transfer-operator",accordion:"receipt-item-"+e.id+"-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"item"+e.id+"moneyTransferOperatorPhones",description:"\u0442\u0435\u0433 1075"}},[t("b-form-textarea",{attrs:{id:"item"+e.id+"moneyTransferOperatorPhones",size:"sm","max-rows":"4",disabled:e.disabled},model:{value:e.moneyTransferOperatorPhones,callback:function(r){e.moneyTransferOperatorPhones=r},expression:"moneyTransferOperatorPhones"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","label-for":"item"+e.id+"moneyTransferOperatorName",description:"\u0442\u0435\u0433 1026"}},[t("b-form-input",{attrs:{id:"item"+e.id+"moneyTransferOperatorName",type:"text",size:"sm",disabled:e.disabled},model:{value:e.model["agent_info.money_transfer_operator.name"],callback:function(r){e.$set(e.model,"agent_info.money_transfer_operator.name",r)},expression:"model['agent_info.money_transfer_operator.name']"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0410\u0434\u0440\u0435\u0441","label-for":"item"+e.id+"moneyTransferOperatorAddress",description:"\u0442\u0435\u0433 1005"}},[t("b-form-input",{attrs:{id:"item"+e.id+"moneyTransferOperatorAddress",type:"text",size:"sm",disabled:e.disabled},model:{value:e.model["agent_info.money_transfer_operator.address"],callback:function(r){e.$set(e.model,"agent_info.money_transfer_operator.address",r)},expression:"model['agent_info.money_transfer_operator.address']"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0418\u041D\u041D","label-for":"item"+e.id+"moneyTransferOperatorInn",description:"\u0442\u0435\u0433 1016"}},[t("b-form-input",{attrs:{id:"item"+e.id+"moneyTransferOperatorInn",type:"text",size:"sm",pattern:"\\d{10}|\\d{12}",maxlength:"12",disabled:e.disabled},model:{value:e.model["agent_info.money_transfer_operator.inn"],callback:function(r){e.$set(e.model,"agent_info.money_transfer_operator.inn",r)},expression:"model['agent_info.money_transfer_operator.inn']"}})],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"receipt-item-"+e.id+"-supplier",expression:"'receipt-item-' + id + '-supplier'"}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043F\u043E\u0441\u0442\u0430\u0432\u0449\u0438\u043A\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-item-"+e.id+"-supplier",accordion:"receipt-item-"+e.id+"-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"item"+e.id+"supplierPhones",description:"\u0442\u0435\u0433 1171"}},[t("b-form-textarea",{attrs:{id:"item"+e.id+"supplierPhones",size:"sm","max-rows":"4",required:"",disabled:e.disabled},model:{value:e.supplierPhones,callback:function(r){e.supplierPhones=r},expression:"supplierPhones"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","label-for":"item"+e.id+"supplierName",description:"\u0442\u0435\u0433 1225"}},[t("b-form-input",{attrs:{id:"item"+e.id+"supplierName",type:"text",size:"sm",disabled:e.disabled},model:{value:e.model["supplier_info.name"],callback:function(r){e.$set(e.model,"supplier_info.name",r)},expression:"model['supplier_info.name']"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0418\u041D\u041D","label-for":"item"+e.id+"supplierInn",description:"\u0442\u0435\u0433 1226"}},[t("b-form-input",{attrs:{id:"item"+e.id+"supplierInn",type:"text",size:"sm",pattern:"\\d{10}|\\d{12}",maxlength:"12",disabled:e.disabled},model:{value:e.model["supplier_info.inn"],callback:function(r){e.$set(e.model,"supplier_info.inn",r)},expression:"model['supplier_info.inn']"}})],1)],1)],1)],1)],1)],1)],1)],1):e._e()],1)},c=[],p=n(o,l,c,!1,null,null,null,null);const d=p.exports;const m={components:{ReceiptItem:d},data(){return{ready:!1,showPreview:!1,receipt:new i,vats:{without_vat:null,with_vat0:null,vat10:null,vat20:null,vat110:null,vat120:null},agentInfo:{type:null,paying_agent:{operation:null,phones:null},receive_payments_operator:{phones:null},money_transfer_operator:{phones:null,name:null,address:null,inn:null}}}},mounted(){this.handleRoute(this.$route),this.enumConnections(),this.listenEvents()},methods:{async handleRoute(a,e=null){switch(a.name){case"receipt":await this.loadReceipt(a.params.id);break;case"new-receipt":this.resetReceipt();break;case"new-receipt-from-existing":e!==null&&e.name==="receipt"&&+a.params.id==+e.params.id?this.shrinkReceipt():await this.loadReceipt(a.params.id,!0)}},listenEvents(){this.$echo.listen(".receipt.processed",a=>{a.id===this.receipt.id&&(this.receipt=a)})},resetReceipt(){this.receipt=new i({id:null,state:0,connection:null,operation:null,external_id:null,internal_id:null,payload:{client:{email:null,phone:null,name:null,inn:null},company:{name:null,email:null,inn:null,payment_address:null,payment_site:null,tax_system:null},agent_info:null,supplier_info:null,items:[],payments:{cash:0,electronic:0,prepaid:0,postpaid:0,other:0},vats:null,total:0,additional_check_props:null,cashier:null,additional_user_props:null},result:null}),this.ready=!0},shrinkReceipt(){this.receipt.id=null,this.receipt.state=0,this.receipt.external_id=null,this.receipt.internal_id=null,this.receipt.result=null},async loadReceipt(a,e=!1){this.ready=!1,this.receipt=await i.find(a),e&&this.shrinkReceipt(),this.ready=!0},async saveReceipt(){try{const a=!this.receipt.id;this.receipt=await this.receipt.save(),a&&this.$router.replace({name:"receipt",params:{id:this.receipt.id}})}catch(a){Object.values(a.response.data.errors).forEach(e=>this.$bvToast.toast(e.map(t=>this.$createElement("div",t)),{toaster:"b-toaster-bottom-right",variant:"danger",solid:!0,noCloseButton:!0}))}},async registerReceipt(){await this.saveReceipt(),this.receipt=await this.receipt.register()},async syncReceipt(){await this.receipt.sync()},async deleteReceipt(){confirm("\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0447\u0435\u043A?")&&(await this.receipt.delete(),this.$router.replace({name:"receipts"}))},addItem(){this.receipt.payload.items.push({agent_info:null,country_code:null,declaration_number:null,excise:null,measurement_unit:null,name:"",nomenclature_code:null,payment_method:"full_prepayment",payment_object:"commodity",price:null,quantity:1,sum:null,supplier_info:null,user_data:null,vat:{sum:null,type:"vat20"}})},removeItem(a){this.receipt.payload.items.splice(a,1)},getVats(a=!1){var t;const e={without_vat:0,with_vat0:0,vat10:0,vat20:0,vat110:0,vat120:0};if(a)for(const r of this.receipt.payload.items)switch((t=r==null?void 0:r.vat.type)!=null?t:"none"){case"vat20":case"vat18":e.vat20+=this.extractVat(r.sum,r.vat.type);break;case"vat10":e.vat10+=this.extractVat(r.sum,r.vat.type);break;case"vat0":e.with_vat0+=r.sum;break;case"none":e.without_vat+=r.sum;break;case"vat120":case"vat118":e.vat120+=this.extractVat(r.sum,r.vat.type);break;case"vat110":e.vat110+=this.extractVat(r.sum,r.vat.type)}return e},fitContent(a){a.target.style.height=a.target.contentDocument.body.scrollHeight+20+"px"},printReceipt(){let a=window.open(window.FiscalRegistrar.basePath+"/api/v1/receipts/"+this.receipt.id+"/preview","ReceiptPreview","popup,width=500,height=1000");a.onafterprint=a.close,a.onload=function(){a.setTimeout(a.print)}}},computed:{title(){return(this.receipt.id?this.receipt.state===0?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435":"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440":"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435")+" \u043A\u0430\u0441\u0441\u043E\u0432\u043E\u0433\u043E \u0447\u0435\u043A\u0430"},model(){return this.$deepModel(this.receipt.payload)},selectConnections(){return[{value:null,text:"\u0430\u0432\u0442\u043E\u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u0435"},...this.buildOptions(this.connections,([a,e])=>({value:a,text:e.display_name}))]},isClientEmailRequired(){return!this.receipt.payload.client.phone},isClientPhoneRequired(){return!this.receipt.payload.client.email},companyEmailPlaceholder(){var a,e,t;return(t=(e=(a=this.connections[this.receipt.connection])==null?void 0:a.company)==null?void 0:e.email)!=null?t:"contact@myshop.com"},companyNamePlaceholder(){var a,e,t;return(t=(e=(a=this.connections[this.receipt.connection])==null?void 0:a.company)==null?void 0:e.name)!=null?t:'\u041E\u041E\u041E "\u0420\u043E\u0433\u0430 \u0438 \u041A\u043E\u043F\u044B\u0442\u0430"'},companyInnPlaceholder(){var a,e,t;return(t=(e=(a=this.connections[this.receipt.connection])==null?void 0:a.company)==null?void 0:e.inn)!=null?t:"1234567890"},companyPaymentSitePlaceholder(){var a,e,t;return(t=(e=(a=this.connections[this.receipt.connection])==null?void 0:a.company)==null?void 0:e.payment_site)!=null?t:"https://www.myshop.com"},companyPaymentAddressPlaceholder(){var a,e,t;return(t=(e=(a=this.connections[this.receipt.connection])==null?void 0:a.company)==null?void 0:e.payment_address)!=null?t:""},vatsPlaceholder(){return Object.fromEntries(Object.entries(this.getVats(!this.receipt.payload.vats)).map(([a,e])=>[a,String(e)]))},vatsWithoutVat:{get:function(){var a,e;return(e=(a=this.receipt.payload.vats)==null?void 0:a.without_vat)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).vats)!=null||(e.vats=this.vats),this.receipt.payload.vats.without_vat=a||null}},vatsWithVat0:{get:function(){var a,e;return(e=(a=this.receipt.payload.vats)==null?void 0:a.with_vat0)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).vats)!=null||(e.vats=this.vats),this.receipt.payload.vats.with_vat0=a||null}},vatsVat10:{get:function(){var a,e;return(e=(a=this.receipt.payload.vats)==null?void 0:a.vat10)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).vats)!=null||(e.vats=this.vats),this.receipt.payload.vats.vat10=a||null}},vatsVat20:{get:function(){var a,e;return(e=(a=this.receipt.payload.vats)==null?void 0:a.vat20)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).vats)!=null||(e.vats=this.vats),this.receipt.payload.vats.vat20=a||null}},vatsVat110:{get:function(){var a,e;return(e=(a=this.receipt.payload.vats)==null?void 0:a.vat110)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).vats)!=null||(e.vats=this.vats),this.receipt.payload.vats.vat110=a||null}},vatsVat120:{get:function(){var a,e;return(e=(a=this.receipt.payload.vats)==null?void 0:a.vat120)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).vats)!=null||(e.vats=this.vats),this.receipt.payload.vats.vat120=a||null}},agentType:{get:function(){var a,e;return(e=(a=this.receipt.payload.agent_info)==null?void 0:a.type)!=null?e:null},set:function(a){var e,t;(t=(e=this.receipt.payload).agent_info)!=null||(e.agent_info=this.agentInfo),this.receipt.payload.agent_info.type=a||null}},payingAgentPhones:{get:function(){var a;return(a=this.model["agent_info.paying_agent.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["agent_info.paying_agent.phones"]=a.length?a:null}},receivePaymentsOperatorPhones:{get:function(){var a;return(a=this.model["agent_info.receive_payments_operator.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["agent_info.receive_payments_operator.phones"]=a.length?a:null}},moneyTransferOperatorPhones:{get:function(){var a;return(a=this.model["agent_info.money_transfer_operator.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["agent_info.money_transfer_operator.phones"]=a.length?a:null}},supplierPhones:{get:function(){var a;return(a=this.model["supplier_info.phones"])==null?void 0:a.join(`
`)},set:function(a){a=a.split(`
`).map(e=>e.trim()).filter(e=>e!=null&&e!==""),this.model["supplier_info.phones"]=a.length?a:null}},resultPayloadFnsSite(){return/^https?:\/\//i.test(this.receipt.result.payload.fns_site)?this.receipt.result.payload.fns_site:"https://"+this.receipt.result.payload.fns_site}},watch:{$route(a,e){this.handleRoute(a,e)},"receipt.payload.items":{handler:function(a){this.receipt.payload.total=a.reduce((e,t)=>e+t.sum,0)},deep:!0},"receipt.payload.vats":{handler:function(a){a!==null&&Object.values(a).every(e=>e===null)&&(this.receipt.payload.vats=null)},deep:!0},"receipt.payload.agent_info":{handler:function(a){this.receipt.payload.agent_info=(a==null?void 0:a.type)===null?null:this.emptify(a)},deep:!0}}};var b=function(){var e=this,t=e._self._c;return t("div",[e.ready?t("h2",{staticClass:"text-center"},[e._v(e._s(e.title))]):e._e(),e.ready?t("b-form",{attrs:{validated:""},on:{submit:function(r){return r.preventDefault(),e.saveReceipt.apply(null,arguments)}}},[t("div",{staticClass:"accordion",attrs:{role:"tablist"}},[t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-attributes",modifiers:{"receipt-attributes":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-attributes",visible:"",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" TODO ")]),t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435","label-for":"receiptConnection"}},[t("b-form-select",{attrs:{id:"receiptConnection",size:"sm",options:e.selectConnections},model:{value:e.receipt.connection,callback:function(r){e.$set(e.receipt,"connection",r)},expression:"receipt.connection"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F","label-for":"receiptOperation"}},[t("b-form-select",{attrs:{id:"receiptOperation",size:"sm",required:"",options:e.buildOptions(e.dictionary.operations)},model:{value:e.receipt.operation,callback:function(r){e.$set(e.receipt,"operation",r)},expression:"receipt.operation"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0423\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0439 \u0438\u0434\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440","label-for":"receiptExternalId"}},[t("b-form-input",{attrs:{id:"receiptExternalId",type:"text",size:"sm"},model:{value:e.receipt.external_id,callback:function(r){e.$set(e.receipt,"external_id",r)},expression:"receipt.external_id"}})],1)],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-client",modifiers:{"receipt-client":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0414\u0430\u043D\u043D\u044B\u0435 \u043A\u043B\u0438\u0435\u043D\u0442\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-client",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" \u0412 \u0437\u0430\u043F\u0440\u043E\u0441\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E \u0445\u043E\u0442\u044F \u0431\u044B \u043E\u0434\u043D\u043E \u0438\u0437 \u043F\u043E\u043B\u0435\u0439: "),t("code",[e._v("email")]),e._v(" \u0438\u043B\u0438 "),t("code",[e._v("phone")]),e._v("."),t("br"),e._v(" \u0415\u0441\u043B\u0438 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u044B \u043E\u0431\u0430 \u043F\u043E\u043B\u044F, \u041E\u0424\u0414 \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0447\u0435\u043A \u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430 email. ")]),t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{class:e.isClientEmailRequired&&"required",attrs:{label:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441","label-for":"clientEmail",description:"\u0442\u0435\u0433 1008"}},[t("b-form-input",{attrs:{id:"clientEmail",type:"email",size:"sm",placeholder:"user@domain.com",required:e.isClientEmailRequired},model:{value:e.receipt.payload.client.email,callback:function(r){e.$set(e.receipt.payload.client,"email",r)},expression:"receipt.payload.client.email"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{class:e.isClientPhoneRequired&&"required",attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D","label-for":"clientPhone",description:"\u0442\u0435\u0433 1008"}},[t("b-form-input",{attrs:{id:"clientPhone",type:"tel",size:"sm",placeholder:"+79001234567",required:e.isClientPhoneRequired},model:{value:e.receipt.payload.client.phone,callback:function(r){e.$set(e.receipt.payload.client,"phone",r)},expression:"receipt.payload.client.phone"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","label-for":"clientName",description:"\u0442\u0435\u0433 1227"}},[t("b-form-input",{attrs:{id:"clientName",type:"text",size:"sm",placeholder:"\u0418\u0432\u0430\u043D \u0418\u0432\u0430\u043D\u043E\u0432\u0438\u0447 \u0418\u0432\u0430\u043D\u043E\u0432"},model:{value:e.receipt.payload.client.name,callback:function(r){e.$set(e.receipt.payload.client,"name",r)},expression:"receipt.payload.client.name"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0418\u041D\u041D","label-for":"clientInn",description:"\u0442\u0435\u0433 1228"}},[t("b-form-input",{attrs:{id:"clientInn",type:"text",size:"sm",placeholder:"1234567890",pattern:"\\d{10}|\\d{12}",maxlength:"12"},model:{value:e.receipt.payload.client.inn,callback:function(r){e.$set(e.receipt.payload.client,"inn",r)},expression:"receipt.payload.client.inn"}})],1)],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-company",modifiers:{"receipt-company":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0414\u0430\u043D\u043D\u044B\u0435 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u0438")])],1),t("b-collapse",{attrs:{id:"receipt-company",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" \u041E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043F\u043E\u043B\u044F \u043F\u0443\u0441\u0442\u044B\u043C\u0438 \u0434\u043B\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u043F\u043E\u0434\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u043E\u0432 \u0438\u0437 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F \u043F\u0440\u0438 \u043F\u0440\u043E\u0432\u043E\u0434\u043A\u0435 \u0447\u0435\u043A\u0430. ")]),t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441","label-for":"companyEmail",description:"\u0442\u0435\u0433 1117"}},[t("b-form-input",{attrs:{id:"companyEmail",type:"email",size:"sm",placeholder:e.companyEmailPlaceholder},model:{value:e.receipt.payload.company.email,callback:function(r){e.$set(e.receipt.payload.company,"email",r)},expression:"receipt.payload.company.email"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","label-for":"companyName",description:"\u0442\u0435\u0433 1048"}},[t("b-form-input",{attrs:{id:"companyName",type:"text",size:"sm",placeholder:e.companyNamePlaceholder},model:{value:e.receipt.payload.company.name,callback:function(r){e.$set(e.receipt.payload.company,"name",r)},expression:"receipt.payload.company.name"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0418\u041D\u041D","label-for":"companyInn",description:"\u0442\u0435\u0433 1018"}},[t("b-form-input",{attrs:{id:"companyInn",type:"text",size:"sm",placeholder:e.companyInnPlaceholder,pattern:"\\d{10}|\\d{12}",maxlength:"12"},model:{value:e.receipt.payload.company.inn,callback:function(r){e.$set(e.receipt.payload.company,"inn",r)},expression:"receipt.payload.company.inn"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u043E\u043E\u0431\u043B\u043E\u0436\u0435\u043D\u0438\u044F","label-for":"taxSystem",description:"\u0442\u0435\u0433 1055"}},[t("b-form-select",{attrs:{id:"taxSystem",size:"sm",options:e.taxSystemOptions},model:{value:e.receipt.payload.company.tax_system,callback:function(r){e.$set(e.receipt.payload.company,"tax_system",r)},expression:"receipt.payload.company.tax_system"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u041C\u0435\u0441\u0442\u043E \u0440\u0430\u0441\u0447\u0435\u0442\u043E\u0432","label-for":"companyPaymentSite",description:"\u0442\u0435\u0433 1187"}},[t("b-form-input",{attrs:{id:"companyPaymentSite",type:"text",size:"sm",placeholder:e.companyPaymentSitePlaceholder},model:{value:e.receipt.payload.company.payment_site,callback:function(r){e.$set(e.receipt.payload.company,"payment_site",r)},expression:"receipt.payload.company.payment_site"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0410\u0434\u0440\u0435\u0441 \u0440\u0430\u0441\u0447\u0435\u0442\u043E\u0432","label-for":"companyPaymentAddress",description:"\u0442\u0435\u0433 1009"}},[t("b-form-input",{attrs:{id:"companyPaymentAddress",type:"text",size:"sm",placeholder:e.companyPaymentAddressPlaceholder},model:{value:e.receipt.payload.company.payment_address,callback:function(r){e.$set(e.receipt.payload.company,"payment_address",r)},expression:"receipt.payload.company.payment_address"}})],1)],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-agent-supplier",modifiers:{"receipt-agent-supplier":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0414\u0430\u043D\u043D\u044B\u0435 \u0430\u0433\u0435\u043D\u0442\u0430 \u0438 \u043F\u043E\u0441\u0442\u0430\u0432\u0449\u0438\u043A\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-agent-supplier",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" TODO ")]),t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041F\u0440\u0438\u0437\u043D\u0430\u043A \u0430\u0433\u0435\u043D\u0442\u0430","label-for":"agentType",description:"\u0442\u0435\u0433 1057"}},[t("b-form-select",{attrs:{id:"agentType",size:"sm",options:e.agentTypeOptions},model:{value:e.agentType,callback:function(r){e.agentType=r},expression:"agentType"}})],1)],1)],1)],1),e.agentType!==null?t("div",{staticClass:"accordion",attrs:{role:"tablist"}},[t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-paying-agent",modifiers:{"receipt-paying-agent":!0}}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043F\u043B\u0430\u0442\u0435\u0436\u043D\u043E\u0433\u043E \u0430\u0433\u0435\u043D\u0442\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-paying-agent",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438","label-for":"payingAgentOperation",description:"\u0442\u0435\u0433 1044"}},[t("b-form-input",{attrs:{id:"payingAgentOperation",type:"text",size:"sm"},model:{value:e.model["agent_info.paying_agent.operation"],callback:function(r){e.$set(e.model,"agent_info.paying_agent.operation",r)},expression:"model['agent_info.paying_agent.operation']"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"payingAgentPhones",description:"\u0442\u0435\u0433 1073"}},[t("b-form-textarea",{attrs:{id:"payingAgentPhones",size:"sm","max-rows":"4"},model:{value:e.payingAgentPhones,callback:function(r){e.payingAgentPhones=r},expression:"payingAgentPhones"}})],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-receive-payments-operator",modifiers:{"receipt-receive-payments-operator":!0}}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u0430 \u043F\u043E \u043F\u0440\u0438\u0435\u043C\u0443 \u043F\u043B\u0430\u0442\u0435\u0436\u0435\u0439")])],1),t("b-collapse",{attrs:{id:"receipt-receive-payments-operator",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"receivePaymentsOperatorPhones",description:"\u0442\u0435\u0433 1074"}},[t("b-form-textarea",{attrs:{id:"receivePaymentsOperatorPhones",size:"sm","max-rows":"4"},model:{value:e.receivePaymentsOperatorPhones,callback:function(r){e.receivePaymentsOperatorPhones=r},expression:"receivePaymentsOperatorPhones"}})],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-money-transfer-operator",modifiers:{"receipt-money-transfer-operator":!0}}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043E\u043F\u0435\u0440\u0430\u0442\u043E\u0440\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-money-transfer-operator",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"moneyTransferOperatorPhones",description:"\u0442\u0435\u0433 1075"}},[t("b-form-textarea",{attrs:{id:"moneyTransferOperatorPhones",size:"sm","max-rows":"4"},model:{value:e.moneyTransferOperatorPhones,callback:function(r){e.moneyTransferOperatorPhones=r},expression:"moneyTransferOperatorPhones"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","label-for":"moneyTransferOperatorName",description:"\u0442\u0435\u0433 1026"}},[t("b-form-input",{attrs:{id:"moneyTransferOperatorName",type:"text",size:"sm"},model:{value:e.model["agent_info.money_transfer_operator.name"],callback:function(r){e.$set(e.model,"agent_info.money_transfer_operator.name",r)},expression:`
                                                                    model['agent_info.money_transfer_operator.name']
                                                                `}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0410\u0434\u0440\u0435\u0441","label-for":"moneyTransferOperatorAddress",description:"\u0442\u0435\u0433 1005"}},[t("b-form-input",{attrs:{id:"moneyTransferOperatorAddress",type:"text",size:"sm"},model:{value:e.model["agent_info.money_transfer_operator.address"],callback:function(r){e.$set(e.model,"agent_info.money_transfer_operator.address",r)},expression:`
                                                                    model[
                                                                        'agent_info.money_transfer_operator.address'
                                                                    ]
                                                                `}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u0418\u041D\u041D","label-for":"moneyTransferOperatorInn",description:"\u0442\u0435\u0433 1016"}},[t("b-form-input",{attrs:{id:"moneyTransferOperatorInn",type:"text",size:"sm",pattern:"\\d{10}|\\d{12}",maxlength:"12"},model:{value:e.model["agent_info.money_transfer_operator.inn"],callback:function(r){e.$set(e.model,"agent_info.money_transfer_operator.inn",r)},expression:`
                                                                    model['agent_info.money_transfer_operator.inn']
                                                                `}})],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-supplier",modifiers:{"receipt-supplier":!0}}],attrs:{block:""}},[e._v("\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B \u043F\u043E\u0441\u0442\u0430\u0432\u0449\u0438\u043A\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-supplier",accordion:"receipt-agent-supplier-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D(\u044B)","label-for":"supplierPhones",description:"\u0442\u0435\u0433 1171"}},[t("b-form-textarea",{attrs:{id:"supplierPhones",size:"sm","max-rows":"4",required:""},model:{value:e.supplierPhones,callback:function(r){e.supplierPhones=r},expression:"supplierPhones"}})],1)],1)],1)],1)],1)],1)],1)],1):e._e()],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-items",modifiers:{"receipt-items":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u041F\u043E\u0437\u0438\u0446\u0438\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-items",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" \u0412 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0435 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C \u043E\u0434\u043D\u0430 \u043F\u043E\u0437\u0438\u0446\u0438\u044F. ")]),e._l(e.receipt.payload.items,function(r,s){return[t("receipt-item",{key:s,attrs:{item:r,disabled:e.receipt.state!==0},on:{remove:function(y){return e.removeItem(s)}}}),t("hr")]}),t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"1",md:"2",sm:"3"}},[t("b-form-group",{staticClass:"required",attrs:{label:"\u0412\u0441\u0435\u0433\u043E \u043D\u0430 \u0441\u0443\u043C\u043C\u0443","label-for":"total",description:"\u0442\u0435\u0433 1020"}},[t("b-form-input",{attrs:{id:"total",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0",required:"",disabled:e.receipt.state!==0},model:{value:e.receipt.payload.total,callback:function(r){e.$set(e.receipt.payload,"total",e._n(r))},expression:"receipt.payload.total"}})],1)],1),t("b-col",{staticClass:"mb-sm-3",attrs:{"align-self":"end",lg:"1",md:"2",sm:"3"}},[t("b-button",{staticClass:"mb-sm-4",attrs:{variant:"primary",size:"sm",disabled:e.receipt.state!==0},on:{click:e.addItem}},[e._v("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C")])],1)],1)],1)],2)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-payments",modifiers:{"receipt-payments":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0414\u0430\u043D\u043D\u044B\u0435 \u043F\u043E \u043E\u043F\u043B\u0430\u0442\u0435")])],1),t("b-collapse",{attrs:{id:"receipt-payments",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" TODO ")]),t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u043B\u0438\u0447\u043D\u044B\u043C\u0438","label-for":"paymentCash",description:"\u0442\u0435\u0433 1031"}},[t("b-form-input",{attrs:{id:"paymentCash",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:e.receipt.payload.payments.cash,callback:function(r){e.$set(e.receipt.payload.payments,"cash",e._n(r))},expression:"receipt.payload.payments.cash"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0411\u0435\u0437\u043D\u0430\u043B\u0438\u0447\u043D\u044B\u043C\u0438","label-for":"paymentElectronic",description:"\u0442\u0435\u0433 1081"}},[t("b-form-input",{attrs:{id:"paymentElectronic",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:e.receipt.payload.payments.electronic,callback:function(r){e.$set(e.receipt.payload.payments,"electronic",e._n(r))},expression:"receipt.payload.payments.electronic"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u041F\u0440\u0435\u0434\u043E\u043F\u043B\u0430\u0442\u043E\u0439","label-for":"paymentPrepaid",description:"\u0442\u0435\u0433 1215"}},[t("b-form-input",{attrs:{id:"paymentPrepaid",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:e.receipt.payload.payments.prepaid,callback:function(r){e.$set(e.receipt.payload.payments,"prepaid",e._n(r))},expression:"receipt.payload.payments.prepaid"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u041F\u043E\u0441\u0442\u043E\u043F\u043B\u0430\u0442\u043E\u0439","label-for":"paymentPostpaid",description:"\u0442\u0435\u0433 1216"}},[t("b-form-input",{attrs:{id:"paymentPostpaid",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:e.receipt.payload.payments.postpaid,callback:function(r){e.$set(e.receipt.payload.payments,"postpaid",e._n(r))},expression:"receipt.payload.payments.postpaid"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0412\u0441\u0442\u0440. \u043F\u0440\u0435\u0434\u0441\u0442.","label-for":"paymentOther",description:"\u0442\u0435\u0433 1217"}},[t("b-form-input",{attrs:{id:"paymentOther",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:"0"},model:{value:e.receipt.payload.payments.other,callback:function(r){e.$set(e.receipt.payload.payments,"other",e._n(r))},expression:"receipt.payload.payments.other"}})],1)],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-vats",modifiers:{"receipt-vats":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u041D\u0414\u0421 \u043D\u0430 \u0447\u0435\u043A")])],1),t("b-collapse",{attrs:{id:"receipt-vats",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" \u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043F\u0435\u0440\u0435\u0434\u0430\u0442\u044C \u043B\u0438\u0431\u043E \u0441\u0443\u043C\u043C\u0443 \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u043F\u043E\u0437\u0438\u0446\u0438\u044E, \u043B\u0438\u0431\u043E \u0441\u0443\u043C\u043C\u0443 \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u0447\u0435\u043A. \u0415\u0441\u043B\u0438 \u0431\u0443\u0434\u0435\u0442 \u043F\u0435\u0440\u0435\u0434\u0430\u043D\u044B \u0438 \u0441\u0443\u043C\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u043F\u043E\u0437\u0438\u0446\u0438\u044E \u0438 \u0441\u0443\u043C\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u0447\u0435\u043A, \u0441\u0435\u0440\u0432\u0438\u0441 \u0443\u0447\u0442\u0435\u0442 \u0442\u043E\u043B\u044C\u043A\u043E \u0441\u0443\u043C\u043C\u0443 \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u0447\u0435\u043A. "),e.receipt.payload.vats?t("span",[e._v("\u0412 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F \u0441\u0443\u043C\u043C\u044B \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u0447\u0435\u043A. \u0414\u043B\u044F \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0430 \u043A \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044E \u0441\u0443\u043C\u043C \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u043F\u043E\u0437\u0438\u0446\u0438\u044E, \u043E\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F \u0432 \u044D\u0442\u043E\u043C \u0440\u0430\u0437\u0434\u0435\u043B\u0435.")]):t("span",[e._v("\u0412 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F \u0441\u0443\u043C\u043C\u044B \u043D\u0430\u043B\u043E\u0433\u0430 \u043D\u0430 \u043F\u043E\u0437\u0438\u0446\u0438\u044E. \u0412 \u043F\u043E\u043B\u044F\u0445 \u043D\u0438\u0436\u0435 \u043C\u043E\u0436\u043D\u043E \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0438\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u043D\u044B\u0435 \u0432\u0435\u043B\u0438\u0447\u0438\u043D\u044B.")])]),t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043F\u043E \u0447\u0435\u043A\u0443 \u0431\u0435\u0437 \u041D\u0414\u0421","label-for":"withoutVat",description:"\u0442\u0435\u0433 1105"}},[t("b-form-input",{attrs:{id:"withoutVat",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatsPlaceholder.without_vat},model:{value:e.vatsWithoutVat,callback:function(r){e.vatsWithoutVat=e._n(r)},expression:"vatsWithoutVat"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043F\u043E \u0447\u0435\u043A\u0443 \u0441 \u041D\u0414\u0421 0%","label-for":"withVat0",description:"\u0442\u0435\u0433 1104"}},[t("b-form-input",{attrs:{id:"withVat0",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatsPlaceholder.with_vat0},model:{value:e.vatsWithVat0,callback:function(r){e.vatsWithVat0=e._n(r)},expression:"vatsWithVat0"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u041D\u0414\u0421 \u0447\u0435\u043A\u0430 \u043F\u043E \u0441\u0442\u0430\u0432\u043A\u0435 10%","label-for":"vat10",description:"\u0442\u0435\u0433 1103"}},[t("b-form-input",{attrs:{id:"vat10",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatsPlaceholder.vat10},model:{value:e.vatsVat10,callback:function(r){e.vatsVat10=e._n(r)},expression:"vatsVat10"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u041D\u0414\u0421 \u0447\u0435\u043A\u0430 \u043F\u043E \u0441\u0442\u0430\u0432\u043A\u0435 20%","label-for":"vat20",description:"\u0442\u0435\u0433 1102"}},[t("b-form-input",{attrs:{id:"vat20",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatsPlaceholder.vat20},model:{value:e.vatsVat20,callback:function(r){e.vatsVat20=e._n(r)},expression:"vatsVat20"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u041D\u0414\u0421 \u0447\u0435\u043A\u0430 \u043F\u043E \u0440\u0430\u0441\u0447. \u0441\u0442\u0430\u0432\u043A\u0435 10/110","label-for":"vat110",description:"\u0442\u0435\u0433 1107"}},[t("b-form-input",{attrs:{id:"vat110",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatsPlaceholder.vat110},model:{value:e.vatsVat110,callback:function(r){e.vatsVat110=e._n(r)},expression:"vatsVat110"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u041D\u0414\u0421 \u0447\u0435\u043A\u0430 \u043F\u043E \u0440\u0430\u0441\u0447. \u0441\u0442\u0430\u0432\u043A\u0435 20/120","label-for":"vat120",description:"\u0442\u0435\u0433 1106"}},[t("b-form-input",{attrs:{id:"vat120",type:"number",min:"0",max:"42949672.95",step:".01",size:"sm",placeholder:e.vatsPlaceholder.vat120},model:{value:e.vatsVat120,callback:function(r){e.vatsVat120=e._n(r)},expression:"vatsVat120"}})],1)],1)],1)],1)],1)],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-misc",modifiers:{"receipt-misc":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0440\u0435\u043A\u0432\u0438\u0437\u0438\u0442\u044B")])],1),t("b-collapse",{attrs:{id:"receipt-misc",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-form-group",{attrs:{disabled:e.receipt.state!==0}},[t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-1"},[t("b-col",{attrs:{"align-self":"end",lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{label:"\u0414\u043E\u043F. \u0440\u0435\u043A\u0432\u0438\u0437\u0438\u0442 \u0447\u0435\u043A\u0430","label-for":"additionalCheckProps",description:"\u0442\u0435\u0433 1192"}},[t("b-form-input",{attrs:{id:"additionalCheckProps",type:"text",size:"sm",maxlength:"16"},model:{value:e.receipt.payload.additional_check_props,callback:function(r){e.$set(e.receipt.payload,"additional_check_props",r)},expression:"receipt.payload.additional_check_props"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"5",sm:"8"}},[t("b-form-group",{attrs:{label:"\u0424\u0418\u041E \u043A\u0430\u0441\u0441\u0438\u0440\u0430","label-for":"cashier",description:"\u0442\u0435\u0433 1021"}},[t("b-form-input",{attrs:{id:"cashier",type:"text",size:"sm",maxlength:"64"},model:{value:e.receipt.payload.cashier,callback:function(r){e.$set(e.receipt.payload,"cashier",r)},expression:"receipt.payload.cashier"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"3",md:"4",sm:"6"}},[t("b-form-group",{attrs:{label:"\u041D\u0430\u0438\u043C. \u0434\u043E\u043F. \u0440\u0435\u043A\u0432. \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F","label-for":"additionalUserPropsName",description:"\u0442\u0435\u0433 1085"}},[t("b-form-input",{attrs:{id:"additionalUserPropsName",type:"text",size:"sm",maxlength:"64"},model:{value:e.model["additional_user_props.name"],callback:function(r){e.$set(e.model,"additional_user_props.name",r)},expression:"model['additional_user_props.name']"}})],1)],1),t("b-col",{attrs:{"align-self":"end",lg:"4",md:"8",sm:"12"}},[t("b-form-group",{attrs:{label:"\u0417\u043D\u0430\u0447. \u0434\u043E\u043F. \u0440\u0435\u043A\u0432. \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F","label-for":"additionalUserPropsValue",description:"\u0442\u0435\u0433 1086"}},[t("b-form-input",{attrs:{id:"additionalUserPropsValue",type:"text",size:"sm",maxlength:"256"},model:{value:e.model["additional_user_props.value"],callback:function(r){e.$set(e.model,"additional_user_props.value",r)},expression:"model['additional_user_props.value']"}})],1)],1)],1)],1)],1)],1)],1)],1),e.receipt.result?t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-result",modifiers:{"receipt-result":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438")])],1),t("b-collapse",{attrs:{id:"receipt-result",accordion:"receipt-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-sub-title",{staticClass:"mb-3"},[e._v("\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043F\u043E\u0441\u0442\u0430\u0432\u0449\u0438\u043A\u0430")]),t("b-container",{attrs:{fluid:""}},[t("b-form-row",[t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F"}},[e._v(" "+e._s(e.formatTime(e.receipt.result.timestamp))+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{description:"\u0412\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u0438\u0439 \u0438\u0434\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440"}},[e._v(" "+e._s(e.receipt.result.internal_id)+" ")])],1)],1)],1),e.receipt.result.payload?t("b-card-sub-title",{staticClass:"mb-3"},[e._v("\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u041E\u0424\u0414")]):e._e(),e.receipt.result.payload?t("b-container",{attrs:{fluid:""}},[t("b-form-row",[t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F (\u0442\u0435\u0433 1012)"}},[e._v(" "+e._s(e.formatTime(e.receipt.result.payload.receipt_datetime,"DD.MM.YYYY HH:mm"))+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u041D\u043E\u043C\u0435\u0440 \u0441\u043C\u0435\u043D\u044B (\u0442\u0435\u0433 1038)"}},[e._v(" "+e._s(e.receipt.result.payload.shift_number)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u041D\u043E\u043C\u0435\u0440 \u0447\u0435\u043A\u0430 \u0432 \u0441\u043C\u0435\u043D\u0435 (\u0442\u0435\u0433 1042)"}},[e._v(" "+e._s(e.receipt.result.payload.fiscal_receipt_number)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u0421\u0443\u043C\u043C\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 (\u0442\u0435\u0433 1020)"}},[e._v(" "+e._s(e.receipt.result.payload.total)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u0420\u0435\u0433. \u043D\u043E\u043C\u0435\u0440 \u041A\u041A\u0422 (\u0442\u0435\u0433 1037)"}},[e._v(" "+e._s(e.receipt.result.payload.ecr_registration_number)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u041D\u043E\u043C\u0435\u0440 \u0424\u041D (\u0442\u0435\u0433 1041)"}},[e._v(" "+e._s(e.receipt.result.payload.fn_number)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u0424\u0438\u0441\u043A\u0430\u043B\u044C\u043D\u044B\u0439 \u043D\u043E\u043C\u0435\u0440 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 (\u0442\u0435\u0433 1040)"}},[e._v(" "+e._s(e.receipt.result.payload.fiscal_document_number)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"1",md:"2",sm:"3"}},[t("b-form-group",{attrs:{description:"\u0424\u0438\u0441\u043A\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u0438\u0437\u043D\u0430\u043A \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 (\u0442\u0435\u0433 1077)"}},[e._v(" "+e._s(e.receipt.result.payload.fiscal_document_attribute)+" ")])],1),t("b-col",{staticClass:"mb-3",attrs:{lg:"2",md:"3",sm:"4"}},[t("b-form-group",{attrs:{description:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430 \u0424\u041D\u0421 (\u0442\u0435\u0433 1060)"}},[t("b-link",{attrs:{href:e.resultPayloadFnsSite,target:"_blank"}},[e._v(e._s(e.resultPayloadFnsSite))])],1)],1)],1)],1):e._e()],1)],1)],1):e._e(),e.receipt.id?t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.receipt-preview",modifiers:{"receipt-preview":!0}}],attrs:{block:"",variant:"info"}},[e._v("\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0447\u0435\u043A\u0430")])],1),t("b-collapse",{attrs:{id:"receipt-preview",accordion:"receipt-accordion",role:"tabpanel"},on:{show:function(r){e.showPreview=!0}}},[t("b-card-body",{staticClass:"px-0"},[e.showPreview?t("iframe",{attrs:{src:e.FiscalRegistrar.basePath+"/api/v1/receipts/"+e.receipt.id+"/preview",width:"100%"},on:{load:e.fitContent}}):e._e()])],1)],1):e._e()],1),t("b-container",{attrs:{fluid:""}},[t("b-form-row",{staticClass:"my-3"},[t("b-col",{attrs:{sm:"8"}},[e.receipt.state===0?t("b-button",{staticClass:"mb-1",attrs:{type:"submit",variant:"primary",size:"sm"}},[e._v("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C")]):e._e(),e.receipt.id?t("b-button",{staticClass:"mb-1",attrs:{variant:"primary",size:"sm",to:{name:"new-receipt-from-existing",params:{id:e.receipt.id}}}},[e._v("\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C")]):e._e(),e.receipt.state===0?t("b-button",{staticClass:"mb-1",attrs:{variant:"success",size:"sm"},on:{click:e.registerReceipt}},[e._v("\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C")]):e._e(),e.receipt.state===1?t("b-button",{staticClass:"mb-1",attrs:{variant:"warning",size:"sm"},on:{click:e.syncReceipt}},[e._v("\u0421\u0438\u043D\u0445\u0440\u043E\u043D\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u0442\u044C")]):e._e(),e.receipt.id?t("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:e.printReceipt}},[e._v("\u0420\u0430\u0441\u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C")]):e._e(),e.receipt.result?t("b-button",{staticClass:"mb-1",attrs:{size:"sm",href:e.receipt.result.payload.ofd_receipt_url,target:"_blank"}},[e._v("\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0432 \u041E\u0424\u0414")]):e._e(),e.receipt.id&&e.receipt.state===0?t("b-button",{staticClass:"mb-1",attrs:{variant:"danger",size:"sm"},on:{click:e.deleteReceipt}},[e._v("\u0423\u0434\u0430\u043B\u0438\u0442\u044C")]):e._e()],1),t("b-col",{staticClass:"text-right",attrs:{sm:"4"}},[t("b-button",{staticClass:"mb-1",attrs:{size:"sm",to:{name:"receipts"}}},[e._v("\u041A \u0441\u043F\u0438\u0441\u043A\u0443")])],1)],1)],1)],1):e._e()],1)},u=[],f=n(m,b,u,!1,null,"42ac891e",null,null);const v=f.exports;export{v as default};
